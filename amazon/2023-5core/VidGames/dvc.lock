schema: '2.0'
stages:
  import:
    cmd: lenskit codex amazon import-train -o dataset ../data/Video_Games.train.csv.gz
    deps:
    - path: ../data/Video_Games.train.csv.gz
      hash: md5
      md5: cf52cdcd1bc96c0251cf525fd3373bf5
      size: 15690763
    outs:
    - path: dataset
      hash: md5
      md5: 926407d419701d2ac913176e2d3d936b.dir
      size: 8849535
      nfiles: 5
  import-valid-train:
    cmd: lenskit data convert --amazon ../data/Video_Games.train.csv.gz splits/fixed/valid/train.dataset
    deps:
    - path: ../data/Video_Games.train.csv.gz
      hash: md5
      md5: cf52cdcd1bc96c0251cf525fd3373bf5
      size: 15690763
    outs:
    - path: splits/fixed/valid/train.dataset
      hash: md5
      md5: af92c1f22474e96fc9aa7f1f55f5a4a8.dir
      size: 8988469
      nfiles: 5
  import-valid-test:
    cmd: lenskit data convert --amazon --item-lists ../data/Video_Games.valid.csv.gz
      splits/fixed/valid/test.parquet
    deps:
    - path: ../data/Video_Games.valid.csv.gz
      hash: md5
      md5: 5b29cd361999229e92cc7c3c49d3bc08
      size: 1558363
    outs:
    - path: splits/fixed/valid/test.parquet
      hash: md5
      md5: f6037e80a107947c1b6334afc23b0bb8
      size: 711768
  import-test-test:
    cmd: lenskit data convert --amazon --item-lists ../data/Video_Games.test.csv.gz
      splits/fixed/test/test.parquet
    deps:
    - path: ../data/Video_Games.test.csv.gz
      hash: md5
      md5: cf9c346ffe32cf46fd1f661032f29841
      size: 1672711
    outs:
    - path: splits/fixed/test/test.parquet
      hash: md5
      md5: a7e4eb1512603de785688970e4be6b24
      size: 770628
  import-test-train:
    cmd: lenskit data convert --amazon ../data/Video_Games.train.csv.gz ../data/Video_Games.valid.csv.gz
      splits/fixed/test/train.dataset
    deps:
    - path: ../data/Video_Games.train.csv.gz
      hash: md5
      md5: cf52cdcd1bc96c0251cf525fd3373bf5
      size: 15690763
    - path: ../data/Video_Games.valid.csv.gz
      hash: md5
      md5: 5b29cd361999229e92cc7c3c49d3bc08
      size: 1558363
    outs:
    - path: splits/fixed/test/train.dataset
      hash: md5
      md5: 9b07f5194df50ab18c592f86ab404dc5.dir
      size: 9353271
      nfiles: 5
  run-fixed-default-als-implicit:
    cmd: lenskit codex generate --default --ds-name=VidGames --split=splits/fixed
      -o runs/fixed/als-implicit-default als-implicit
    deps:
    - path: ../../../src/codex/models/als_implicit.py
      hash: md5
      md5: cb29269f8b896866c0ae2aeceadd6d69
      size: 590
    - path: splits/fixed
      hash: md5
      md5: 2f084b610024c9cc1231cbb556ff5997.dir
      size: 19824150
      nfiles: 14
    outs:
    - path: runs/fixed/als-implicit-default
      hash: md5
      md5: d90fc457a4372e55cd5a22b957674848.dir
      size: 15252516
      nfiles: 4
  run-fixed-default-flexmf-warp:
    cmd: lenskit codex generate --default --ds-name=VidGames --split=splits/fixed
      -o runs/fixed/flexmf-warp-default flexmf-warp
    deps:
    - path: ../../../src/codex/models/flexmf_warp.py
      hash: md5
      md5: 8b8cb5b55016546658102325f51dedf9
      size: 657
    - path: splits/fixed
      hash: md5
      md5: 2f084b610024c9cc1231cbb556ff5997.dir
      size: 19824150
      nfiles: 14
    outs:
    - path: runs/fixed/flexmf-warp-default
      hash: md5
      md5: c1adbb6ad0313d8c680df22914f8ed4b.dir
      size: 15658058
      nfiles: 4
  run-fixed-default-als-biased:
    cmd: lenskit codex generate --default --ds-name=VidGames --split=splits/fixed
      -o runs/fixed/als-biased-default als-biased
    deps:
    - path: ../../../src/codex/models/als_biased.py
      hash: md5
      md5: 935c03f45335b812ed7b6aa63bed914e
      size: 547
    - path: splits/fixed
      hash: md5
      md5: 2f084b610024c9cc1231cbb556ff5997.dir
      size: 19824150
      nfiles: 14
    outs:
    - path: runs/fixed/als-biased-default
      hash: md5
      md5: c62fdb86cb0f1e4e38e83e54ed1ff6a1.dir
      size: 16932582
      nfiles: 5
  run-fixed-default-bias:
    cmd: lenskit codex generate --default --ds-name=VidGames --split=splits/fixed
      -o runs/fixed/bias-default bias
    deps:
    - path: ../../../src/codex/models/bias.py
      hash: md5
      md5: 8331a4d32969fb83a78c4e43114b9d2a
      size: 458
    - path: splits/fixed
      hash: md5
      md5: 2f084b610024c9cc1231cbb556ff5997.dir
      size: 19824150
      nfiles: 14
    outs:
    - path: runs/fixed/bias-default
      hash: md5
      md5: fa1510180827b0fc06c756a530527c0b.dir
      size: 6560135
      nfiles: 5
  run-fixed-default-flexmf-explicit:
    cmd: lenskit codex generate --default --ds-name=VidGames --split=splits/fixed
      -o runs/fixed/flexmf-explicit-default flexmf-explicit
    deps:
    - path: ../../../src/codex/models/flexmf_explicit.py
      hash: md5
      md5: 9271360109ed53980623529abafbc7a4
      size: 527
    - path: splits/fixed
      hash: md5
      md5: 2f084b610024c9cc1231cbb556ff5997.dir
      size: 19824150
      nfiles: 14
    outs:
    - path: runs/fixed/flexmf-explicit-default
      hash: md5
      md5: fd33263e58184bc042e476b0dedbe513.dir
      size: 17722247
      nfiles: 5
  run-fixed-default-popular:
    cmd: lenskit codex generate --default --ds-name=VidGames --split=splits/fixed
      -o runs/fixed/popular-default popular
    deps:
    - path: ../../../src/codex/models/popular.py
      hash: md5
      md5: c1b8d18adf4c2f7d9807ad4f8c766732
      size: 56
    - path: splits/fixed
      hash: md5
      md5: 2f084b610024c9cc1231cbb556ff5997.dir
      size: 19824150
      nfiles: 14
    outs:
    - path: runs/fixed/popular-default
      hash: md5
      md5: ea8c5f6c5cbc663f4b5d9ae262aee362.dir
      size: 1300981
      nfiles: 4
  run-fixed-default-flexmf-bpr:
    cmd: lenskit codex generate --default --ds-name=VidGames --split=splits/fixed
      -o runs/fixed/flexmf-bpr-default flexmf-bpr
    deps:
    - path: ../../../src/codex/models/flexmf_bpr.py
      hash: md5
      md5: 94acb427f7b39b627be488ba2558067c
      size: 663
    - path: splits/fixed
      hash: md5
      md5: 2f084b610024c9cc1231cbb556ff5997.dir
      size: 19824150
      nfiles: 14
    outs:
    - path: runs/fixed/flexmf-bpr-default
      hash: md5
      md5: d3adf228b23d465039c8852f9a8b2c2f.dir
      size: 15669881
      nfiles: 4
  run-fixed-default-flexmf-logistic:
    cmd: lenskit codex generate --default --ds-name=VidGames --split=splits/fixed
      -o runs/fixed/flexmf-logistic-default flexmf-logistic
    deps:
    - path: ../../../src/codex/models/flexmf_logistic.py
      hash: md5
      md5: bbad471f8ca28fa9c5a9818432bc7ac8
      size: 748
    - path: splits/fixed
      hash: md5
      md5: 2f084b610024c9cc1231cbb556ff5997.dir
      size: 19824150
      nfiles: 14
    outs:
    - path: runs/fixed/flexmf-logistic-default
      hash: md5
      md5: 35ca6fe8f9ec76501d9c423272023cfb.dir
      size: 15849199
      nfiles: 4
