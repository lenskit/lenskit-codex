schema: '2.0'
stages:
  import:
    cmd: lenskit data convert --amazon ../data/CDs_and_Vinyl.train.csv.gz dataset
    deps:
    - path: ../data/CDs_and_Vinyl.train.csv.gz
      hash: md5
      md5: 52f026f7362db207ff7bcc8696025da0
      size: 32949116
    outs:
    - path: dataset
      hash: md5
      md5: 15b10977d7889919647237f7aeca4ee3.dir
      size: 17455240
      nfiles: 5
  import-valid-train:
    cmd: lenskit data convert --amazon ../data/CDs_and_Vinyl.train.csv.gz splits/fixed/valid/train.dataset
    deps:
    - path: ../data/CDs_and_Vinyl.train.csv.gz
      hash: md5
      md5: 52f026f7362db207ff7bcc8696025da0
      size: 32949116
    outs:
    - path: splits/fixed/valid/train.dataset
      hash: md5
      md5: 54b3836f55b2fceaf80b654131ecdeca.dir
      size: 17455283
      nfiles: 5
  import-full-train:
    cmd: lenskit data convert --amazon ../data/CDs_and_Vinyl.train.csv.gz ../data/CDs_and_Vinyl.valid.csv.gz
      dataset
    deps:
    - path: ../data/CDs_and_Vinyl.train.csv.gz
      hash: md5
      md5: 52f026f7362db207ff7bcc8696025da0
      size: 32949116
    - path: ../data/CDs_and_Vinyl.valid.csv.gz
      hash: md5
      md5: 6b746db4246195b2fb1b8fd239c1204b
      size: 1782019
    outs:
    - path: dataset
      hash: md5
      md5: dc321505f06a051d99ef184607c66d69.dir
      size: 17730609
      nfiles: 5
  import-valid-test:
    cmd: lenskit data convert --amazon --item-lists ../data/CDs_and_Vinyl.valid.csv.gz
      splits/fixed/valid/test.full.parquet
    deps:
    - path: ../data/CDs_and_Vinyl.valid.csv.gz
      hash: md5
      md5: 6b746db4246195b2fb1b8fd239c1204b
      size: 1782019
    outs:
    - path: splits/fixed/valid/test.full.parquet
      hash: md5
      md5: faadcf5855ea6ceb27f48fe3b8bf37ed
      size: 630185
  import-test-test:
    cmd: lenskit data convert --amazon --item-lists ../data/CDs_and_Vinyl.test.csv.gz
      splits/fixed/test/test.parquet
    deps:
    - path: ../data/CDs_and_Vinyl.test.csv.gz
      hash: md5
      md5: 66d76238e903c0e6807e881790705712
      size: 1273480
    outs:
    - path: splits/fixed/test/test.parquet
      hash: md5
      md5: 5e5124caf70c8f49f071f615ed6263de
      size: 421326
  import-test-train:
    cmd: lenskit data convert --amazon ../data/CDs_and_Vinyl.train.csv.gz ../data/CDs_and_Vinyl.valid.csv.gz
      splits/fixed/test/train.dataset
    deps:
    - path: ../data/CDs_and_Vinyl.train.csv.gz
      hash: md5
      md5: 52f026f7362db207ff7bcc8696025da0
      size: 32949116
    - path: ../data/CDs_and_Vinyl.valid.csv.gz
      hash: md5
      md5: 6b746db4246195b2fb1b8fd239c1204b
      size: 1782019
    outs:
    - path: splits/fixed/test/train.dataset
      hash: md5
      md5: 4cae0c3883bdcb271357e0d29b55838f.dir
      size: 17730652
      nfiles: 5
  run-fixed-default-flexmf-warp:
    cmd: lenskit codex generate --default --ds-name=CDV --split=splits/fixed -o runs/fixed/flexmf-warp-default
      flexmf-warp
    deps:
    - path: ../../../src/codex/models/flexmf_warp.py
      hash: md5
      md5: 8b8cb5b55016546658102325f51dedf9
      size: 657
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    outs:
    - path: runs/fixed/flexmf-warp-default
      hash: md5
      md5: 0e9027d0d91cecab4888faa2665afb9a.dir
      size: 13094821
      nfiles: 4
  run-fixed-default-flexmf-explicit:
    cmd: lenskit codex generate --default --ds-name=CDV --split=splits/fixed -o runs/fixed/flexmf-explicit-default
      flexmf-explicit
    deps:
    - path: ../../../src/codex/models/flexmf_explicit.py
      hash: md5
      md5: 9271360109ed53980623529abafbc7a4
      size: 527
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    outs:
    - path: runs/fixed/flexmf-explicit-default
      hash: md5
      md5: 915728cb99c66296371e963eec7b3cfe.dir
      size: 11041345
      nfiles: 5
  run-fixed-default-als-implicit:
    cmd: lenskit codex generate --default --ds-name=CDV --split=splits/fixed -o runs/fixed/als-implicit-default
      als-implicit
    deps:
    - path: ../../../src/codex/models/als_implicit.py
      hash: md5
      md5: cb29269f8b896866c0ae2aeceadd6d69
      size: 590
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    outs:
    - path: runs/fixed/als-implicit-default
      hash: md5
      md5: 483d27868c13dbcd11aaec785eecca2c.dir
      size: 9856348
      nfiles: 4
  run-fixed-default-flexmf-bpr:
    cmd: lenskit codex generate --default --ds-name=CDV --split=splits/fixed -o runs/fixed/flexmf-bpr-default
      flexmf-bpr
    deps:
    - path: ../../../src/codex/models/flexmf_bpr.py
      hash: md5
      md5: 94acb427f7b39b627be488ba2558067c
      size: 663
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    outs:
    - path: runs/fixed/flexmf-bpr-default
      hash: md5
      md5: abb72a704d715353e25c98f453105cfe.dir
      size: 13125921
      nfiles: 4
  run-fixed-default-popular:
    cmd: lenskit codex generate --default --ds-name=CDV --split=splits/fixed -o runs/fixed/popular-default
      popular
    deps:
    - path: ../../../src/codex/models/popular.py
      hash: md5
      md5: c1b8d18adf4c2f7d9807ad4f8c766732
      size: 56
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    outs:
    - path: runs/fixed/popular-default
      hash: md5
      md5: 53c1b761745a10f0bb955b93b122eb87.dir
      size: 580239
      nfiles: 4
  run-fixed-default-als-biased:
    cmd: lenskit codex generate --default --ds-name=CDV --split=splits/fixed -o runs/fixed/als-biased-default
      als-biased
    deps:
    - path: ../../../src/codex/models/als_biased.py
      hash: md5
      md5: 935c03f45335b812ed7b6aa63bed914e
      size: 547
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    outs:
    - path: runs/fixed/als-biased-default
      hash: md5
      md5: 6440de67cb1c2f147899fe1dc3bcef77.dir
      size: 10685034
      nfiles: 5
  run-fixed-default-flexmf-logistic:
    cmd: lenskit codex generate --default --ds-name=CDV --split=splits/fixed -o runs/fixed/flexmf-logistic-default
      flexmf-logistic
    deps:
    - path: ../../../src/codex/models/flexmf_logistic.py
      hash: md5
      md5: bbad471f8ca28fa9c5a9818432bc7ac8
      size: 748
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    outs:
    - path: runs/fixed/flexmf-logistic-default
      hash: md5
      md5: 8e5b712d279ee9d8e93010e2c0ce044c.dir
      size: 11505646
      nfiles: 4
  run-fixed-default-bias:
    cmd: lenskit codex generate --default --ds-name=CDV --split=splits/fixed -o runs/fixed/bias-default
      bias
    deps:
    - path: ../../../src/codex/models/bias.py
      hash: md5
      md5: 8331a4d32969fb83a78c4e43114b9d2a
      size: 458
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    outs:
    - path: runs/fixed/bias-default
      hash: md5
      md5: 1be79c3f20375c8371d91c34e4a3c300.dir
      size: 4421433
      nfiles: 5
  export-valid-qrels:
    cmd: lenskit codex trec export qrels -o splits/fixed/valid.qrels.zst splits/fixed/valid/test.parquet
    deps:
    - path: splits/fixed/valid/test.parquet
      hash: md5
      md5: faadcf5855ea6ceb27f48fe3b8bf37ed
      size: 630185
    outs:
    - path: splits/fixed/valid.qrels.zst
      hash: md5
      md5: 54bce71d1b63d40b09ddf8e7fa64e797
      size: 413041
  export-test-qrels:
    cmd: lenskit codex trec export qrels -o splits/fixed/test.qrels.zst splits/fixed/test/test.parquet
    deps:
    - path: splits/fixed/test/test.parquet
      hash: md5
      md5: 5e5124caf70c8f49f071f615ed6263de
      size: 421326
    outs:
    - path: splits/fixed/test.qrels.zst
      hash: md5
      md5: 5615dc4a937daf6ad126694a2c3ca755
      size: 275599
  export-trec-qrels@test:
    cmd: lenskit codex trec export qrels -o splits/fixed/test.qrels.gz splits/fixed/test/test.parquet
    deps:
    - path: splits/fixed/test/test.parquet
      hash: md5
      md5: 5e5124caf70c8f49f071f615ed6263de
      size: 421326
    outs:
    - path: splits/fixed/test.qrels.gz
      hash: md5
      md5: 5615dc4a937daf6ad126694a2c3ca755
      size: 275599
  export-trec-qrels@valid:
    cmd: lenskit codex trec export qrels -o splits/fixed/valid.qrels.gz splits/fixed/valid/test.parquet
    deps:
    - path: splits/fixed/valid/test.parquet
      hash: md5
      md5: 14fd4621eb3a059be1a0ebc8a44480ea
      size: 464746
    outs:
    - path: splits/fixed/valid.qrels.gz
      hash: md5
      md5: 05d0510bf5bdf0f58a95a58af7fb184d
      size: 243149
  export-trec-default-runs:
    cmd: lenskit codex trec export runs -o runs/fixed/default.run.gz runs/fixed/*-default
    deps:
    - path: runs/fixed/als-biased-default/recommendations.parquet
      hash: md5
      md5: 5e62e76f4787135d34b28fbbe678842b
      size: 10086323
    - path: runs/fixed/als-implicit-default/recommendations.parquet
      hash: md5
      md5: ffa3b9de47a5198b9681ea705d9eda9c
      size: 10486175
    - path: runs/fixed/bias-default/recommendations.parquet
      hash: md5
      md5: c30b7993eafc1d764a70155fa20591bd
      size: 3284834
    - path: runs/fixed/flexmf-bpr-default/recommendations.parquet
      hash: md5
      md5: ac3b85a46328e78cfb98f160ce83971b
      size: 14218575
    - path: runs/fixed/flexmf-explicit-default/recommendations.parquet
      hash: md5
      md5: 74210eb7169cac7660b5bcfe7d032884
      size: 10377060
    - path: runs/fixed/flexmf-logistic-default/recommendations.parquet
      hash: md5
      md5: 8618ee83e7daced2172bdc45515649e6
      size: 12887946
    - path: runs/fixed/flexmf-warp-default/recommendations.parquet
      hash: md5
      md5: 056a70319a9eadc21ec44399dafb4eca
      size: 14193673
    - path: runs/fixed/popular-default/recommendations.parquet
      hash: md5
      md5: aa0d4e305cf0c41a28a4b7608dfbb912
      size: 382314
    outs:
    - path: runs/fixed/default.run.gz
      hash: md5
      md5: 755d082b9f8de0c832b44048ae552d47
      size: 145639002
  sweep-bias-fixed-optuna:
    cmd: lenskit codex search --split=splits/fixed --test-part=valid --optuna --metric=RMSE
      bias sweeps/fixed/bias-optuna
    deps:
    - path: ../../../src/codex/models/bias.py
      hash: md5
      md5: 8331a4d32969fb83a78c4e43114b9d2a
      size: 458
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    params:
      ../../../config.toml:
        tuning.optuna.points: 40
    outs:
    - path: sweeps/fixed/bias-optuna
      hash: md5
      md5: 50ef9c5cb9104dd3c57829a2ebee11ef.dir
      size: 298837
      nfiles: 4
    - path: sweeps/fixed/bias-optuna.json
      hash: md5
      md5: 44f40711fc95fa6eb2746d21ba3d95ea
      size: 615
  run-fixed-optuna-best-bias:
    cmd: lenskit codex generate --param-file sweeps/fixed/bias-optuna.json --ds-name=CDV
      --split=splits/fixed -o runs/fixed/bias-optuna-best bias
    deps:
    - path: ../../../src/codex/models/bias.py
      hash: md5
      md5: 8331a4d32969fb83a78c4e43114b9d2a
      size: 458
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    - path: sweeps/fixed/bias-optuna.json
      hash: md5
      md5: 44f40711fc95fa6eb2746d21ba3d95ea
      size: 615
    outs:
    - path: runs/fixed/bias-optuna-best
      hash: md5
      md5: 4760633b830a273fafed8648b94d79d3.dir
      size: 7820363
      nfiles: 5
  sweep-flexmf-explicit-fixed-optuna:
    cmd: lenskit codex search --split=splits/fixed --test-part=valid --optuna --metric=RMSE
      flexmf-explicit sweeps/fixed/flexmf-explicit-optuna
    deps:
    - path: ../../../src/codex/models/flexmf_explicit.py
      hash: md5
      md5: 9271360109ed53980623529abafbc7a4
      size: 527
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    params:
      ../../../config.toml:
        tuning.optuna.points: 40
    outs:
    - path: sweeps/fixed/flexmf-explicit-optuna
      hash: md5
      md5: 6bf1db04655fa502f829d78e508d6978.dir
      size: 533673
      nfiles: 5
    - path: sweeps/fixed/flexmf-explicit-optuna.json
      hash: md5
      md5: ef7ec8e8d1544dc185136ec11a68c7c1
      size: 694
  sweep-als-biased-fixed-optuna:
    cmd: lenskit codex search --split=splits/fixed --test-part=valid --optuna --metric=RMSE
      als-biased sweeps/fixed/als-biased-optuna
    deps:
    - path: ../../../src/codex/models/als_biased.py
      hash: md5
      md5: 935c03f45335b812ed7b6aa63bed914e
      size: 547
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    params:
      ../../../config.toml:
        tuning.optuna.points: 40
    outs:
    - path: sweeps/fixed/als-biased-optuna
      hash: md5
      md5: 86c52980bd2af46c37af0b9c24ef5580.dir
      size: 506631
      nfiles: 5
    - path: sweeps/fixed/als-biased-optuna.json
      hash: md5
      md5: 398545cd7620354fc3cb61d72d287706
      size: 733
  run-fixed-optuna-best-als-biased:
    cmd: lenskit codex generate --param-file sweeps/fixed/als-biased-optuna.json --ds-name=CDV
      --split=splits/fixed -o runs/fixed/als-biased-optuna-best als-biased
    deps:
    - path: ../../../src/codex/models/als_biased.py
      hash: md5
      md5: 935c03f45335b812ed7b6aa63bed914e
      size: 547
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    - path: sweeps/fixed/als-biased-optuna.json
      hash: md5
      md5: 398545cd7620354fc3cb61d72d287706
      size: 733
    outs:
    - path: runs/fixed/als-biased-optuna-best
      hash: md5
      md5: 81d5050471ea5d526839dfd911da01bd.dir
      size: 9064413
      nfiles: 5
  sweep-flexmf-logistic-fixed-optuna:
    cmd: lenskit codex search --split=splits/fixed --test-part=valid --optuna --metric=RBP
      flexmf-logistic sweeps/fixed/flexmf-logistic-optuna
    deps:
    - path: ../../../src/codex/models/flexmf_logistic.py
      hash: md5
      md5: bbad471f8ca28fa9c5a9818432bc7ac8
      size: 748
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    params:
      ../../../config.toml:
        tuning.optuna.points: 40
    outs:
    - path: sweeps/fixed/flexmf-logistic-optuna
      hash: md5
      md5: 379262929e460dc8ee22fe4c3eabf79b.dir
      size: 655063
      nfiles: 5
    - path: sweeps/fixed/flexmf-logistic-optuna.json
      hash: md5
      md5: 336b88286faf1544b3aeb4261171855f
      size: 759
  sweep-flexmf-bpr-fixed-optuna:
    cmd: lenskit codex search --split=splits/fixed --test-part=valid --optuna --metric=RBP
      flexmf-bpr sweeps/fixed/flexmf-bpr-optuna
    deps:
    - path: ../../../src/codex/models/flexmf_bpr.py
      hash: md5
      md5: 94acb427f7b39b627be488ba2558067c
      size: 663
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    params:
      ../../../config.toml:
        tuning.optuna.points: 40
    outs:
    - path: sweeps/fixed/flexmf-bpr-optuna
      hash: md5
      md5: 4fefd6bde81bf942ff51ed18536e5306.dir
      size: 645489
      nfiles: 5
    - path: sweeps/fixed/flexmf-bpr-optuna.json
      hash: md5
      md5: 057c11946f55090aa343c251c0284811
      size: 703
  run-fixed-optuna-best-flexmf-explicit:
    cmd: lenskit codex generate --param-file sweeps/fixed/flexmf-explicit-optuna.json
      --ds-name=CDV --split=splits/fixed -o runs/fixed/flexmf-explicit-optuna-best
      flexmf-explicit
    deps:
    - path: ../../../src/codex/models/flexmf_explicit.py
      hash: md5
      md5: 9271360109ed53980623529abafbc7a4
      size: 527
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    - path: sweeps/fixed/flexmf-explicit-optuna.json
      hash: md5
      md5: ef7ec8e8d1544dc185136ec11a68c7c1
      size: 694
    outs:
    - path: runs/fixed/flexmf-explicit-optuna-best
      hash: md5
      md5: de2ef6d8fd06b965614c7d38875e0017.dir
      size: 10789131
      nfiles: 5
  sweep-flexmf-warp-fixed-optuna:
    cmd: lenskit codex search --split=splits/fixed --test-part=valid --optuna --metric=RBP
      flexmf-warp sweeps/fixed/flexmf-warp-optuna
    deps:
    - path: ../../../src/codex/models/flexmf_warp.py
      hash: md5
      md5: 8b8cb5b55016546658102325f51dedf9
      size: 657
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    params:
      ../../../config.toml:
        tuning.optuna.points: 40
    outs:
    - path: sweeps/fixed/flexmf-warp-optuna
      hash: md5
      md5: 7f4a14de3b4bf2d353766fd0a3f9bab5.dir
      size: 646491
      nfiles: 5
    - path: sweeps/fixed/flexmf-warp-optuna.json
      hash: md5
      md5: a28fad4a28bffa17d8b44b01d0e09157
      size: 686
  run-fixed-optuna-best-flexmf-warp:
    cmd: lenskit codex generate --param-file sweeps/fixed/flexmf-warp-optuna.json
      --ds-name=CDV --split=splits/fixed -o runs/fixed/flexmf-warp-optuna-best flexmf-warp
    deps:
    - path: ../../../src/codex/models/flexmf_warp.py
      hash: md5
      md5: 8b8cb5b55016546658102325f51dedf9
      size: 657
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    - path: sweeps/fixed/flexmf-warp-optuna.json
      hash: md5
      md5: a28fad4a28bffa17d8b44b01d0e09157
      size: 686
    outs:
    - path: runs/fixed/flexmf-warp-optuna-best
      hash: md5
      md5: c131f83b6bbef90e07ad521913a2091a.dir
      size: 9815289
      nfiles: 4
  sweep-als-implicit-fixed-optuna:
    cmd: lenskit codex search --split=splits/fixed --test-part=valid --optuna --metric=RBP
      als-implicit sweeps/fixed/als-implicit-optuna
    deps:
    - path: ../../../src/codex/models/als_implicit.py
      hash: md5
      md5: cb29269f8b896866c0ae2aeceadd6d69
      size: 590
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    params:
      ../../../config.toml:
        tuning.optuna.points: 40
    outs:
    - path: sweeps/fixed/als-implicit-optuna
      hash: md5
      md5: 16c7d95ae981a3b68042dbc5324a1ee3.dir
      size: 846771
      nfiles: 5
    - path: sweeps/fixed/als-implicit-optuna.json
      hash: md5
      md5: 9c0c76f7a4d74c05d1423b7567ee1366
      size: 743
  run-fixed-optuna-best-als-implicit:
    cmd: lenskit codex generate --param-file sweeps/fixed/als-implicit-optuna.json
      --ds-name=CDV --split=splits/fixed -o runs/fixed/als-implicit-optuna-best als-implicit
    deps:
    - path: ../../../src/codex/models/als_implicit.py
      hash: md5
      md5: cb29269f8b896866c0ae2aeceadd6d69
      size: 590
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    - path: sweeps/fixed/als-implicit-optuna.json
      hash: md5
      md5: 9c0c76f7a4d74c05d1423b7567ee1366
      size: 743
    outs:
    - path: runs/fixed/als-implicit-optuna-best
      hash: md5
      md5: dafe23f30227488c0c22b96503b64db2.dir
      size: 10308868
      nfiles: 4
  run-fixed-optuna-best-flexmf-bpr:
    cmd: lenskit codex generate --param-file sweeps/fixed/flexmf-bpr-optuna.json --ds-name=CDV
      --split=splits/fixed -o runs/fixed/flexmf-bpr-optuna-best flexmf-bpr
    deps:
    - path: ../../../src/codex/models/flexmf_bpr.py
      hash: md5
      md5: 94acb427f7b39b627be488ba2558067c
      size: 663
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    - path: sweeps/fixed/flexmf-bpr-optuna.json
      hash: md5
      md5: 057c11946f55090aa343c251c0284811
      size: 703
    outs:
    - path: runs/fixed/flexmf-bpr-optuna-best
      hash: md5
      md5: 99e8879f1b31c26a43166e8f0dfe339f.dir
      size: 9962301
      nfiles: 4
  run-fixed-optuna-best-flexmf-logistic:
    cmd: lenskit codex generate --param-file sweeps/fixed/flexmf-logistic-optuna.json
      --ds-name=CDV --split=splits/fixed -o runs/fixed/flexmf-logistic-optuna-best
      flexmf-logistic
    deps:
    - path: ../../../src/codex/models/flexmf_logistic.py
      hash: md5
      md5: bbad471f8ca28fa9c5a9818432bc7ac8
      size: 748
    - path: splits/fixed
      hash: md5
      md5: 9aea3e8047a57cb9c5505a07d37f3336.dir
      size: 37221097
      nfiles: 18
    - path: sweeps/fixed/flexmf-logistic-optuna.json
      hash: md5
      md5: 336b88286faf1544b3aeb4261171855f
      size: 759
    outs:
    - path: runs/fixed/flexmf-logistic-optuna-best
      hash: md5
      md5: 5cdb807feac0c8e45e65a6cde472de48.dir
      size: 9875770
      nfiles: 4
  collect-metrics:
    cmd: lenskit codex collect metrics -S run-summary.csv -U run-user-metrics.parquet
      -L runs/manifest.csv
    deps:
    - path: runs/fixed/als-biased-default
      hash: md5
      md5: 6440de67cb1c2f147899fe1dc3bcef77.dir
      size: 10685034
      nfiles: 5
    - path: runs/fixed/als-biased-optuna-best
      hash: md5
      md5: 81d5050471ea5d526839dfd911da01bd.dir
      size: 9064413
      nfiles: 5
    - path: runs/fixed/als-implicit-default
      hash: md5
      md5: 483d27868c13dbcd11aaec785eecca2c.dir
      size: 9856348
      nfiles: 4
    - path: runs/fixed/als-implicit-optuna-best
      hash: md5
      md5: dafe23f30227488c0c22b96503b64db2.dir
      size: 10308868
      nfiles: 4
    - path: runs/fixed/bias-default
      hash: md5
      md5: 1be79c3f20375c8371d91c34e4a3c300.dir
      size: 4421433
      nfiles: 5
    - path: runs/fixed/bias-optuna-best
      hash: md5
      md5: 4760633b830a273fafed8648b94d79d3.dir
      size: 7820363
      nfiles: 5
    - path: runs/fixed/flexmf-bpr-default
      hash: md5
      md5: abb72a704d715353e25c98f453105cfe.dir
      size: 13125921
      nfiles: 4
    - path: runs/fixed/flexmf-bpr-optuna-best
      hash: md5
      md5: 99e8879f1b31c26a43166e8f0dfe339f.dir
      size: 9962301
      nfiles: 4
    - path: runs/fixed/flexmf-explicit-default
      hash: md5
      md5: 915728cb99c66296371e963eec7b3cfe.dir
      size: 11041345
      nfiles: 5
    - path: runs/fixed/flexmf-explicit-optuna-best
      hash: md5
      md5: de2ef6d8fd06b965614c7d38875e0017.dir
      size: 10789131
      nfiles: 5
    - path: runs/fixed/flexmf-logistic-default
      hash: md5
      md5: 8e5b712d279ee9d8e93010e2c0ce044c.dir
      size: 11505646
      nfiles: 4
    - path: runs/fixed/flexmf-logistic-optuna-best
      hash: md5
      md5: 5cdb807feac0c8e45e65a6cde472de48.dir
      size: 9875770
      nfiles: 4
    - path: runs/fixed/flexmf-warp-default
      hash: md5
      md5: 0e9027d0d91cecab4888faa2665afb9a.dir
      size: 13094821
      nfiles: 4
    - path: runs/fixed/flexmf-warp-optuna-best
      hash: md5
      md5: c131f83b6bbef90e07ad521913a2091a.dir
      size: 9815289
      nfiles: 4
    - path: runs/fixed/popular-default
      hash: md5
      md5: 53c1b761745a10f0bb955b93b122eb87.dir
      size: 580239
      nfiles: 4
    outs:
    - path: run-summary.csv
      hash: md5
      md5: 038fa8cce2151da50b46464057f89433
      size: 9655
    - path: run-user-metrics.parquet
      hash: md5
      md5: c908ee86a7a79a99e06c15ca8837bfc8
      size: 1801991
  subset-valid-test:
    cmd: lenskit data subset --sample-rows=10000 --item-lists splits/fixed/valid/test.full.parquet
      splits/fixed/valid/test.parquet
    deps:
    - path: splits/fixed/valid/test.full.parquet
      hash: md5
      md5: faadcf5855ea6ceb27f48fe3b8bf37ed
      size: 630185
    outs:
    - path: splits/fixed/valid/test.parquet
      hash: md5
      md5: 14fd4621eb3a059be1a0ebc8a44480ea
      size: 464746
