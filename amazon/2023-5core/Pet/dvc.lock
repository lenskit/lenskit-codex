schema: '2.0'
stages:
  import-test-test:
    cmd: lenskit data convert --amazon --item-lists ../data/Pet_Supplies.test.csv.gz
      splits/fixed/test/test.parquet
    deps:
    - path: ../data/Pet_Supplies.test.csv.gz
      hash: md5
      md5: b3564f99d32fd3a0e61ed05413d2b05f
      size: 23946261
    outs:
    - path: splits/fixed/test/test.parquet
      hash: md5
      md5: 22a22dc04f183462fc3c37a0e81ff121
      size: 11521717
  export-trec-qrels@test:
    cmd: lenskit codex trec export qrels -o splits/fixed/test.qrels.gz splits/fixed/test/test.parquet
    deps:
    - path: splits/fixed/test/test.parquet
      hash: md5
      md5: 22a22dc04f183462fc3c37a0e81ff121
      size: 11521717
    outs:
    - path: splits/fixed/test.qrels.gz
      hash: md5
      md5: ed090977d6c91e615348802b2445a996
      size: 7679886
  import-valid-test:
    cmd: lenskit data convert --amazon --item-lists ../data/Pet_Supplies.valid.csv.gz
      splits/fixed/valid/test.parquet
    deps:
    - path: ../data/Pet_Supplies.valid.csv.gz
      hash: md5
      md5: 554bc3be533d80b312042c1ec8ce47fb
      size: 23814773
    outs:
    - path: splits/fixed/valid/test.parquet
      hash: md5
      md5: 36408ccbdd6e7c6b2455d1347b5db342
      size: 11631008
  export-trec-qrels@valid:
    cmd: lenskit codex trec export qrels -o splits/fixed/valid.qrels.gz splits/fixed/valid/test.parquet
    deps:
    - path: splits/fixed/valid/test.parquet
      hash: md5
      md5: 36408ccbdd6e7c6b2455d1347b5db342
      size: 11631008
    outs:
    - path: splits/fixed/valid.qrels.gz
      hash: md5
      md5: a507d88503776bfc8af9d80329dac049
      size: 8038096
  import-test-train:
    cmd: lenskit data convert --amazon ../data/Pet_Supplies.train.csv.gz ../data/Pet_Supplies.valid.csv.gz
      splits/fixed/test/train.dataset
    deps:
    - path: ../data/Pet_Supplies.train.csv.gz
      hash: md5
      md5: a4386269f83ffbe830b1f82e667681f9
      size: 93208836
    - path: ../data/Pet_Supplies.valid.csv.gz
      hash: md5
      md5: 554bc3be533d80b312042c1ec8ce47fb
      size: 23814773
    outs:
    - path: splits/fixed/test/train.dataset
      hash: md5
      md5: bd2966704e84992ccabe558ac8e9dbf4.dir
      size: 59402645
      nfiles: 5
  import-valid-train:
    cmd: lenskit data convert --amazon ../data/Pet_Supplies.train.csv.gz splits/fixed/valid/train.dataset
    deps:
    - path: ../data/Pet_Supplies.train.csv.gz
      hash: md5
      md5: a4386269f83ffbe830b1f82e667681f9
      size: 93208836
    outs:
    - path: splits/fixed/valid/train.dataset
      hash: md5
      md5: 20fb592bc68e8ffa82d0e53f011fffd8.dir
      size: 53412449
      nfiles: 5
