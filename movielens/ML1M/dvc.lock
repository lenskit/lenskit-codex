schema: '2.0'
stages:
  import-data:
    cmd: python ../import-ml.py ml-1m.zip
    deps:
    - path: ../import-ml.py
      hash: md5
      md5: 4af94250c13bdd7beff8235e442549c6
      size: 3732
    - path: ml-1m.zip
      hash: md5
      md5: c4d9eecfca2ab87c1945afe126590906
      size: 5917549
    outs:
    - path: ratings.duckdb
      hash: md5
      md5: dad84dd5a0dd8a59fbbcafb9ccd9b131
      size: 8925184
  import-ml-1m:
    cmd: python ../import-ml.py ml-1m.zip
    deps:
    - path: ../import-ml.py
      hash: md5
      md5: 30e3b5d3d15e7797637601877711c1ba
      size: 3648
    - path: ../ml-stats.sql
      hash: md5
      md5: b016dc983a2156e0712a846097a968e7
      size: 1307
    - path: ml-1m.zip
      hash: md5
      md5: c4d9eecfca2ab87c1945afe126590906
      size: 5917549
    outs:
    - path: ratings.duckdb
      hash: md5
      md5: 4c71c11bc9aa7b5f7fb561c7570e3a48
      size: 11284480
  ml-1m-stats:
    cmd: python ../../scripts/duckdb-sql.py -d stats.duckdb ../ml-stats.sql
    deps:
    - path: ../ml-stats.sql
      hash: md5
      md5: bf09f212fabc98275ae949932889654c
      size: 1374
    - path: ratings.parquet
      hash: md5
      md5: dea3ecb8a158bcf837a4d9d25ca9ab2e
      size: 6034375
    outs:
    - path: stats.duckdb
      hash: md5
      md5: 411a11e707d9b0f0281e2d8e6a64b1c2
      size: 1323008
  split-random:
    cmd: lenskit codex split random.toml
    deps:
    - path: ../dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: random.toml
      hash: md5
      md5: 505445c1768e51687938b8adfb949fd6
      size: 130
    params:
      ../../../config.toml:
        random.seed: 20240717
    outs:
    - path: random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
  sweep-random-Bias:
    cmd: lenskit-codex sweep run --ds-name=ML1M --split=splits/random.toml --test-part=0
      Bias sweeps/random/Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 37b1bd31e5e7bc04c23e66270d23bad6
      size: 145
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/Bias
      hash: md5
      md5: c83fe2e1520bc5f406575956e0934d29.dir
      size: 36538605
      nfiles: 6
  sweep-random-BiasedMF-ALS:
    cmd: lenskit-codex sweep run --ds-name=ML1M --split=splits/random.toml --test-part=0
      BiasedMF-ALS sweeps/random/BiasedMF-ALS
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: e6cb9274cf0c63db90cbf272212932da
      size: 165
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/BiasedMF-ALS
      hash: md5
      md5: dc29a0800b0514992f2efe798dfb034a.dir
      size: 82976620
      nfiles: 6
  sweep-random-ImplicitMF-ALS:
    cmd: lenskit-codex sweep run --ds-name=ML1M --split=splits/random.toml --test-part=0
      ImplicitMF-ALS sweeps/random/ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: 1d621be010b6a13b8ef6ced024a6ba25
      size: 150
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/ImplicitMF-ALS
      hash: md5
      md5: 085995bb3d93e6194dc61a19e84fe08a.dir
      size: 91979922
      nfiles: 5
  sweep-random-IKNN-Explicit:
    cmd: lenskit-codex sweep run --ds-name=ML1M --split=splits/random.toml --test-part=0
      IKNN-Explicit sweeps/random/IKNN-Explicit
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: 3cea5881e1b685e8591834ba606d7b6c
      size: 168
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/IKNN-Explicit
      hash: md5
      md5: f33bd023f764019f624329fb2edd1b09.dir
      size: 35932347
      nfiles: 6
  sweep-random-IKNN-Implicit:
    cmd: lenskit-codex sweep run --ds-name=ML1M --split=splits/random.toml --test-part=0
      IKNN-Implicit sweeps/random/IKNN-Implicit
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: a44edac6bd383657b0fe8c88d12b69cf
      size: 151
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/IKNN-Implicit
      hash: md5
      md5: 5491560c6c03e37414305eff56f90dab.dir
      size: 35596961
      nfiles: 5
  import:
    cmd: lenskit data convert --movielens ml-1m.zip dataset
    deps:
    - path: ml-1m.zip
      hash: md5
      md5: c4d9eecfca2ab87c1945afe126590906
      size: 5917549
    outs:
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
  export-random-Bias:
    cmd: lenskit-codex sweep export -o sweeps/random/Bias.json sweeps/random/Bias
      RMSE
    deps:
    - path: sweeps/random/Bias
      hash: md5
      md5: c83fe2e1520bc5f406575956e0934d29.dir
      size: 36538605
      nfiles: 6
    outs:
    - path: sweeps/random/Bias.json
      hash: md5
      md5: bf9d967ab063e4605ca42abce936d3b1
      size: 287
  export-random-BiasedMF-ALS:
    cmd: lenskit-codex sweep export -o sweeps/random/BiasedMF-ALS.json sweeps/random/BiasedMF-ALS
      RMSE
    deps:
    - path: sweeps/random/BiasedMF-ALS
      hash: md5
      md5: dc29a0800b0514992f2efe798dfb034a.dir
      size: 82976620
      nfiles: 6
    outs:
    - path: sweeps/random/BiasedMF-ALS.json
      hash: md5
      md5: 140135b80665879ab3f04b07ab649392
      size: 260
  export-random-ImplicitMF-ALS:
    cmd: lenskit-codex sweep export -o sweeps/random/ImplicitMF-ALS.json sweeps/random/ImplicitMF-ALS
      RBP
    deps:
    - path: sweeps/random/ImplicitMF-ALS
      hash: md5
      md5: 085995bb3d93e6194dc61a19e84fe08a.dir
      size: 91979922
      nfiles: 5
    outs:
    - path: sweeps/random/ImplicitMF-ALS.json
      hash: md5
      md5: 5a73327bf0ab3abc56f7789477ba4cb8
      size: 222
  export-random-IKNN-Explicit:
    cmd: lenskit-codex sweep export -o sweeps/random/IKNN-Explicit.json sweeps/random/IKNN-Explicit
      RMSE
    deps:
    - path: sweeps/random/IKNN-Explicit
      hash: md5
      md5: f33bd023f764019f624329fb2edd1b09.dir
      size: 35932347
      nfiles: 6
    outs:
    - path: sweeps/random/IKNN-Explicit.json
      hash: md5
      md5: ebb2ec6bf0fa3a08c8823fbad861a5f4
      size: 300
  export-random-IKNN-Implicit:
    cmd: lenskit-codex sweep export -o sweeps/random/IKNN-Implicit.json sweeps/random/IKNN-Implicit
      RBP
    deps:
    - path: sweeps/random/IKNN-Implicit
      hash: md5
      md5: 5491560c6c03e37414305eff56f90dab.dir
      size: 35596961
      nfiles: 5
    outs:
    - path: sweeps/random/IKNN-Implicit.json
      hash: md5
      md5: 5b30716985cf5505118dad723f6ba9b1
      size: 244
  run-random-default-Bias:
    cmd: lenskit codex generate --default --ds-name=../.. --split=splits/random.toml
      -o runs/random-default/Bias Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 8b9aedef6f300dc41156832ab013e5a3
      size: 320
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random-default/Bias
      hash: md5
      md5: f97fba0c96724a20fb1294124cb32525.dir
      size: 3234384
      nfiles: 5
  run-random-grid-best-Bias:
    cmd: lenskit-codex generate --param-file=sweeps/random/Bias-grid.json --test-part=-0
      --ds-name=ML1M --split=splits/random.toml -o runs/random-grid-best/Bias Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 3eeb8179cedf97e8b91f6cb91ed40524
      size: 320
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    - path: sweeps/random/Bias-grid.json
      hash: md5
      md5: bf9d967ab063e4605ca42abce936d3b1
      size: 287
    outs:
    - path: runs/random-grid-best/Bias
      hash: md5
      md5: 402686c5802fd66ba768942c9f528fda.dir
      size: 165985
      nfiles: 3
  run-random-default-Popular:
    cmd: lenskit codex generate --default --ds-name=../.. --split=splits/random.toml
      -o runs/random-default/Popular Popular
    deps:
    - path: ../../models/Popular.toml
      hash: md5
      md5: c25817c7ea3901786434261d27af0aad
      size: 35
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random-default/Popular
      hash: md5
      md5: 6e65cebffe0712d8e49badb8db558ae9.dir
      size: 767795
      nfiles: 4
  run-random-default-BiasedMF-ALS:
    cmd: lenskit codex generate --default --ds-name=../.. --split=splits/random.toml
      -o runs/random-default/BiasedMF-ALS BiasedMF-ALS
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: 37d59347e6d5b137ecea25d624d4ea44
      size: 402
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random-default/BiasedMF-ALS
      hash: md5
      md5: 02d68da378cf6d76bd58735c6f37a21a.dir
      size: 3817768
      nfiles: 5
  run-random-grid-best-BiasedMF-ALS:
    cmd: lenskit-codex generate --param-file=sweeps/random/BiasedMF-ALS-grid.json
      --test-part=-0 --ds-name=ML1M --split=splits/random.toml -o runs/random-grid-best/BiasedMF-ALS
      BiasedMF-ALS
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: 7629ab519f3017f4e66782bdc61dfa0f
      size: 172
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    - path: sweeps/random/BiasedMF-ALS-grid.json
      hash: md5
      md5: 140135b80665879ab3f04b07ab649392
      size: 260
    outs:
    - path: runs/random-grid-best/BiasedMF-ALS
      hash: md5
      md5: 3fe4d5456543cab20f6afffa285765be.dir
      size: 166275
      nfiles: 3
  run-random-default-ImplicitMF-ALS:
    cmd: lenskit codex generate --default --ds-name=../.. --split=splits/random.toml
      -o runs/random-default/ImplicitMF-ALS ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: ea4a104880b9fc47686b3248223501d7
      size: 460
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random-default/ImplicitMF-ALS
      hash: md5
      md5: 367f85742a30a5402a62eb2909a49921.dir
      size: 3700169
      nfiles: 4
  run-random-grid-best-ImplicitMF-ALS:
    cmd: lenskit-codex generate --param-file=sweeps/random/ImplicitMF-ALS-grid.json
      --test-part=-0 --ds-name=ML1M --split=splits/random.toml -o runs/random-grid-best/ImplicitMF-ALS
      ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: 5c7d13e705c5945812cd47b8fc8fbfc9
      size: 157
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    - path: sweeps/random/ImplicitMF-ALS-grid.json
      hash: md5
      md5: 5a73327bf0ab3abc56f7789477ba4cb8
      size: 222
    outs:
    - path: runs/random-grid-best/ImplicitMF-ALS
      hash: md5
      md5: 12806f79329aab7238f3c8272fc9eb4a.dir
      size: 117371
      nfiles: 3
  run-random-default-IKNN-Explicit:
    cmd: lenskit codex generate --default --ds-name=../.. --split=splits/random.toml
      -o runs/random-default/IKNN-Explicit IKNN-Explicit
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: 2d3ccc3f306ef1ce27c87613ff8bdc13
      size: 425
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random-default/IKNN-Explicit
      hash: md5
      md5: 857b4d08f0867a9f03c57c19042fe754.dir
      size: 3836866
      nfiles: 5
  run-random-grid-best-IKNN-Explicit:
    cmd: lenskit-codex generate --param-file=sweeps/random/IKNN-Explicit-grid.json
      --test-part=-0 --ds-name=ML1M --split=splits/random.toml -o runs/random-grid-best/IKNN-Explicit
      IKNN-Explicit
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: 11430835ad5db7c0d7ac00160e3818a9
      size: 422
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    - path: sweeps/random/IKNN-Explicit-grid.json
      hash: md5
      md5: f6043256c713e4948db4f2f47061b5e4
      size: 325
    outs:
    - path: runs/random-grid-best/IKNN-Explicit
      hash: md5
      md5: 8aabbcf9033c8f1b50b21a9e9c7fda0f.dir
      size: 163169
      nfiles: 3
  run-random-default-IKNN-Implicit:
    cmd: lenskit codex generate --default --ds-name=../.. --split=splits/random.toml
      -o runs/random-default/IKNN-Implicit IKNN-Implicit
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 396b1e4df36be53f722a29bd77713021
      size: 408
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random-default/IKNN-Implicit
      hash: md5
      md5: 55d313887823c140086c98f2c07d0b35.dir
      size: 3467137
      nfiles: 4
  run-random-grid-best-IKNN-Implicit:
    cmd: lenskit-codex generate --param-file=sweeps/random/IKNN-Implicit-grid.json
      --test-part=-0 --ds-name=ML1M --split=splits/random.toml -o runs/random-grid-best/IKNN-Implicit
      IKNN-Implicit
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 257f3164399012b1c3ae8fd22e69e420
      size: 405
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    - path: sweeps/random/IKNN-Implicit-grid.json
      hash: md5
      md5: 49f64a2ebf84776e7991f7c4ab4c3047
      size: 261
    outs:
    - path: runs/random-grid-best/IKNN-Implicit
      hash: md5
      md5: 76f4d16383c972a115789e7dabf9fa6e.dir
      size: 102843
      nfiles: 3
  run-random-default-UKNN-Explicit:
    cmd: lenskit codex generate --default --ds-name=../.. --split=splits/random.toml
      -o runs/random-default/UKNN-Explicit UKNN-Explicit
    deps:
    - path: ../../models/UKNN-Explicit.toml
      hash: md5
      md5: 49e646c074fdf4e6b8caa47d4a806a38
      size: 423
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random-default/UKNN-Explicit
      hash: md5
      md5: f9454b326bfb2948326d9af1ff82d335.dir
      size: 3832165
      nfiles: 5
  sweep-random-UKNN-Explicit:
    cmd: lenskit-codex sweep run --ds-name=ML1M --split=splits/random.toml --test-part=0
      UKNN-Explicit sweeps/random/UKNN-Explicit
    deps:
    - path: ../../models/UKNN-Explicit.toml
      hash: md5
      md5: 89a00ff4388a0c347c22d09854f61dd0
      size: 169
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/UKNN-Explicit
      hash: md5
      md5: d77e3a1485e49dce7d8a635a071ded85.dir
      size: 51588877
      nfiles: 196
  export-random-UKNN-Explicit:
    cmd: python ../../action.py sweep export sweeps/random/UKNN-Explicit.duckdb rmse
    deps:
    - path: sweeps/random/UKNN-Explicit.duckdb
      hash: md5
      md5: 43c79dd3c2d6164e26cfed9786e5017d
      size: 328740864
    outs:
    - path: sweeps/random/UKNN-Explicit.csv
      hash: md5
      md5: 9a61096c17c032de4a8c6926d57f3994
      size: 1713
    - path: sweeps/random/UKNN-Explicit.json
      hash: md5
      md5: a5aeb090589f0207f59f210c1a21cc56
      size: 320
  run-random-grid-best-UKNN-Explicit:
    cmd: python ../../action.py generate --param-file=sweeps/random/UKNN-Explicit.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-grid-best/UKNN-Explicit.duckdb UKNN-Explicit
    deps:
    - path: ../../codex/models/UKNN_Explicit.py
      hash: md5
      md5: ef4186443ab61ef9d7ddfc2d71b86fb4
      size: 378
    - path: ratings.duckdb
      hash: md5
      md5: 4c71c11bc9aa7b5f7fb561c7570e3a48
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 23c62fcd51a637d1109d93c6341e9ec0
      size: 536576
    - path: sweeps/random/UKNN-Explicit.json
      hash: md5
      md5: a5aeb090589f0207f59f210c1a21cc56
      size: 320
    outs:
    - path: runs/random-grid-best/UKNN-Explicit.duckdb
      hash: md5
      md5: 03135b2aeced9146170f9c676beedd8c
      size: 4206592
  run-random-default-UKNN-Implicit:
    cmd: lenskit codex generate --default --ds-name=../.. --split=splits/random.toml
      -o runs/random-default/UKNN-Implicit UKNN-Implicit
    deps:
    - path: ../../models/UKNN-Implicit.toml
      hash: md5
      md5: 37dbe25184b21ab6b5d1a8bf0fe69248
      size: 406
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random-default/UKNN-Implicit
      hash: md5
      md5: 9050893a1ca869846a56e6d89553b968.dir
      size: 3676632
      nfiles: 4
  sweep-random-UKNN-Implicit:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      UKNN-Implicit sweeps/random/UKNN-Implicit.duckdb
    deps:
    - path: ../../codex/models/UKNN_Implicit.py
      hash: md5
      md5: fd52b2729524c3279709cc034aea9df5
      size: 363
    - path: ratings.duckdb
      hash: md5
      md5: 4c71c11bc9aa7b5f7fb561c7570e3a48
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 23c62fcd51a637d1109d93c6341e9ec0
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/UKNN-Implicit.duckdb
      hash: md5
      md5: f5c3e79bf27e8a3d33ac7455252b1a68
      size: 54013952
  export-random-UKNN-Implicit:
    cmd: python ../../action.py sweep export sweeps/random/UKNN-Implicit.duckdb ndcg
    deps:
    - path: sweeps/random/UKNN-Implicit.duckdb
      hash: md5
      md5: eedc603c99657ede51e079cd281d1a8d
      size: 343945216
    outs:
    - path: sweeps/random/UKNN-Implicit.csv
      hash: md5
      md5: 5dd277d7cd31cf366ad19b0b9f197506
      size: 1255
    - path: sweeps/random/UKNN-Implicit.json
      hash: md5
      md5: a1a6b9f84560109f89140748c3989673
      size: 262
  run-random-grid-best-UKNN-Implicit:
    cmd: python ../../action.py generate --param-file=sweeps/random/UKNN-Implicit.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-grid-best/UKNN-Implicit.duckdb UKNN-Implicit
    deps:
    - path: ../../codex/models/UKNN_Implicit.py
      hash: md5
      md5: fd52b2729524c3279709cc034aea9df5
      size: 363
    - path: ratings.duckdb
      hash: md5
      md5: 4c71c11bc9aa7b5f7fb561c7570e3a48
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 23c62fcd51a637d1109d93c6341e9ec0
      size: 536576
    - path: sweeps/random/UKNN-Implicit.json
      hash: md5
      md5: a1a6b9f84560109f89140748c3989673
      size: 262
    outs:
    - path: runs/random-grid-best/UKNN-Implicit.duckdb
      hash: md5
      md5: 0bcc1ffaed9bbf011233f287eddbb8f1
      size: 3944448
  run-random-default-Implicit-BPR:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/Implicit-BPR.duckdb Implicit-BPR
    deps:
    - path: ../../codex/models/Implicit_BPR.py
      hash: md5
      md5: ead16dddccd03e2611e9e0bef3e4686c
      size: 360
    - path: ratings.duckdb
      hash: md5
      md5: 4c71c11bc9aa7b5f7fb561c7570e3a48
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 23c62fcd51a637d1109d93c6341e9ec0
      size: 536576
    outs:
    - path: runs/random-default/Implicit-BPR.duckdb
      hash: md5
      md5: cbb62173eae815288d5a41a7e6cdd29b
      size: 3944448
  sweep-random-Implicit-BPR:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      Implicit-BPR sweeps/random/Implicit-BPR.duckdb
    deps:
    - path: ../../codex/models/Implicit_BPR.py
      hash: md5
      md5: ead16dddccd03e2611e9e0bef3e4686c
      size: 360
    - path: ratings.duckdb
      hash: md5
      md5: 4c71c11bc9aa7b5f7fb561c7570e3a48
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 23c62fcd51a637d1109d93c6341e9ec0
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/Implicit-BPR.duckdb
      hash: md5
      md5: edd993f70d928f17f0e7d1a91be572e0
      size: 151007232
  export-random-Implicit-BPR:
    cmd: python ../../action.py sweep export sweeps/random/Implicit-BPR.duckdb ndcg
    deps:
    - path: sweeps/random/Implicit-BPR.duckdb
      hash: md5
      md5: f1a4d2a3081bd50aec5e7774a7f684f7
      size: 1005072384
    outs:
    - path: sweeps/random/Implicit-BPR.csv
      hash: md5
      md5: cc19bdd51610c95c7d47c070f9370944
      size: 2767
    - path: sweeps/random/Implicit-BPR.json
      hash: md5
      md5: 80b0bfaac5688526fb77aaf304c1893e
      size: 263
  run-random-grid-best-Implicit-BPR:
    cmd: python ../../action.py generate --param-file=sweeps/random/Implicit-BPR.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-grid-best/Implicit-BPR.duckdb Implicit-BPR
    deps:
    - path: ../../codex/models/Implicit_BPR.py
      hash: md5
      md5: ead16dddccd03e2611e9e0bef3e4686c
      size: 360
    - path: ratings.duckdb
      hash: md5
      md5: 4c71c11bc9aa7b5f7fb561c7570e3a48
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 23c62fcd51a637d1109d93c6341e9ec0
      size: 536576
    - path: sweeps/random/Implicit-BPR.json
      hash: md5
      md5: 80b0bfaac5688526fb77aaf304c1893e
      size: 263
    outs:
    - path: runs/random-grid-best/Implicit-BPR.duckdb
      hash: md5
      md5: 0ee65b4e4693d11176985e0690f04bdc
      size: 3944448
  run-random-default-HPF:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/HPF.duckdb HPF
    deps:
    - path: ../../codex/models/HPF.py
      hash: md5
      md5: 2d51c82536e7137ac38f1217a3d551b1
      size: 313
    - path: ratings.duckdb
      hash: md5
      md5: 4c71c11bc9aa7b5f7fb561c7570e3a48
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 23c62fcd51a637d1109d93c6341e9ec0
      size: 536576
    outs:
    - path: runs/random-default/HPF.duckdb
      hash: md5
      md5: e3c82406099442c76d735750d51b3cdf
      size: 4206592
  sweep-random-HPF:
    cmd: lenskit-codex sweep run --ds-name=ML1M --split=splits/random.toml --test-part=0
      HPF sweeps/random/HPF
    deps:
    - path: ../../models/HPF.toml
      hash: md5
      md5: 0b2c295f5f53e6c0e41cddc0f31b85b2
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/HPF
      hash: md5
      md5: ae9c390d51640754269df375e3ba28ab.dir
      size: 44601340
      nfiles: 84
  export-random-HPF:
    cmd: lenskit-codex sweep export -o sweeps/random/HPF.json sweeps/random/HPF RBP
    deps:
    - path: sweeps/random/HPF
      hash: md5
      md5: ae9c390d51640754269df375e3ba28ab.dir
      size: 44601340
      nfiles: 84
    outs:
    - path: sweeps/random/HPF.json
      hash: md5
      md5: 00c4d37992b0eb319365699b8a42572b
      size: 204
  collect-metrics:
    cmd: lenskit codex collect metrics -S run-summary.csv -U run-user-metrics.parquet
      -L runs/manifest.csv
    deps:
    - path: runs/random/bias-default
      hash: md5
      md5: f7c67a159460accbd049b319f321fa9b.dir
      size: 3093835
      nfiles: 5
    - path: runs/random/bias-random-best
      hash: md5
      md5: da614dcf92b43a2305301f604197db2e.dir
      size: 3243550
      nfiles: 5
    - path: runs/random/iknn-explicit-default
      hash: md5
      md5: 872b1b7bf8f908339b44f93095923dc4.dir
      size: 3838297
      nfiles: 5
    - path: runs/random/iknn-explicit-random-best
      hash: md5
      md5: cd0ee3bcdcaa51e3c712c3730c98c468.dir
      size: 3859393
      nfiles: 5
    - path: runs/random/iknn-implicit-default
      hash: md5
      md5: 5cb9c426cde3f0d940eb7dee18bc480f.dir
      size: 3586673
      nfiles: 4
    - path: runs/random/iknn-implicit-random-best
      hash: md5
      md5: c871fa9d84a8b73be674b6ef9faa8cfd.dir
      size: 3594623
      nfiles: 4
    - path: runs/random/implicit-bpr-default
      hash: md5
      md5: f836a2f26f979913fa30810f435a940e.dir
      size: 3814500
      nfiles: 4
    - path: runs/random/implicit-bpr-random-best
      hash: md5
      md5: ecc95d2e25da12b062db94498889e0d3.dir
      size: 3783371
      nfiles: 4
    - path: runs/random/popular-default
      hash: md5
      md5: 86ef2e55e53425248d0bcb6ce9791300.dir
      size: 773026
      nfiles: 4
    - path: runs/random/uknn-explicit-default
      hash: md5
      md5: 090c865ac05c11de5b970905a80a4c08.dir
      size: 3838626
      nfiles: 5
    - path: runs/random/uknn-explicit-random-best
      hash: md5
      md5: e39557cabc4d60dc5090b1fac8ffa50c.dir
      size: 3847692
      nfiles: 5
    - path: runs/random/uknn-implicit-default
      hash: md5
      md5: eedece2e9f74abd4299a3e6bc63eb683.dir
      size: 3795669
      nfiles: 4
    - path: runs/random/uknn-implicit-random-best
      hash: md5
      md5: 84da1010e0b40a38802f637be2450ce3.dir
      size: 3755975
      nfiles: 4
    outs:
    - path: run-summary.csv
      hash: md5
      md5: 2206f69808fc4f0e4f78f51523d4605d
      size: 19559
    - path: run-user-metrics.parquet
      hash: md5
      md5: 16c967bd6e55c4658e732fef71d36e46
      size: 1337283
  sweep-random-grid-Bias:
    cmd: lenskit-codex sweep run --grid --ds-name=ML1M --split=splits/random.toml
      --test-part=0 Bias sweeps/random/Bias-grid
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 8b9aedef6f300dc41156832ab013e5a3
      size: 320
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/Bias-grid
      hash: md5
      md5: c83fe2e1520bc5f406575956e0934d29.dir
      size: 36538605
      nfiles: 6
  sweep-random-grid-BiasedMF-ALS:
    cmd: lenskit-codex sweep run --grid --ds-name=ML1M --split=splits/random.toml
      --test-part=0 BiasedMF-ALS sweeps/random/BiasedMF-ALS-grid
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: 37d59347e6d5b137ecea25d624d4ea44
      size: 402
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/BiasedMF-ALS-grid
      hash: md5
      md5: dc29a0800b0514992f2efe798dfb034a.dir
      size: 82976620
      nfiles: 6
  sweep-random-grid-IKNN-Explicit:
    cmd: lenskit-codex sweep run --grid --ds-name=ML1M --split=splits/random.toml
      --test-part=0 IKNN-Explicit sweeps/random/IKNN-Explicit-grid
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: 11430835ad5db7c0d7ac00160e3818a9
      size: 422
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/IKNN-Explicit-grid
      hash: md5
      md5: 6a4fa2745a8803676a5b64a3d156c887.dir
      size: 387303
      nfiles: 4
  sweep-random-grid-IKNN-Implicit:
    cmd: lenskit-codex sweep run --grid --ds-name=ML1M --split=splits/random.toml
      --test-part=0 IKNN-Implicit sweeps/random/IKNN-Implicit-grid
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 257f3164399012b1c3ae8fd22e69e420
      size: 405
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/IKNN-Implicit-grid
      hash: md5
      md5: 81726416aae63e70e868f56dd37b43c6.dir
      size: 287253
      nfiles: 4
  sweep-random-grid-ImplicitMF-ALS:
    cmd: lenskit-codex sweep run --grid --ds-name=ML1M --split=splits/random.toml
      --test-part=0 ImplicitMF-ALS sweeps/random/ImplicitMF-ALS-grid
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: ea4a104880b9fc47686b3248223501d7
      size: 460
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/ImplicitMF-ALS-grid
      hash: md5
      md5: 085995bb3d93e6194dc61a19e84fe08a.dir
      size: 91979922
      nfiles: 5
  export-random-grid-Bias:
    cmd: lenskit-codex sweep export -o sweeps/random/Bias-grid.json sweeps/random/Bias-grid
      RMSE
    deps:
    - path: sweeps/random/Bias-grid
      hash: md5
      md5: c83fe2e1520bc5f406575956e0934d29.dir
      size: 36538605
      nfiles: 6
    outs:
    - path: sweeps/random/Bias-grid.json
      hash: md5
      md5: bf9d967ab063e4605ca42abce936d3b1
      size: 287
  export-random-grid-BiasedMF-ALS:
    cmd: lenskit-codex sweep export -o sweeps/random/BiasedMF-ALS-grid.json sweeps/random/BiasedMF-ALS-grid
      RMSE
    deps:
    - path: sweeps/random/BiasedMF-ALS-grid
      hash: md5
      md5: dc29a0800b0514992f2efe798dfb034a.dir
      size: 82976620
      nfiles: 6
    outs:
    - path: sweeps/random/BiasedMF-ALS-grid.json
      hash: md5
      md5: 140135b80665879ab3f04b07ab649392
      size: 260
  export-random-grid-IKNN-Explicit:
    cmd: lenskit-codex sweep export -o sweeps/random/IKNN-Explicit-grid.json sweeps/random/IKNN-Explicit-grid
      RMSE
    deps:
    - path: sweeps/random/IKNN-Explicit-grid
      hash: md5
      md5: 6a4fa2745a8803676a5b64a3d156c887.dir
      size: 387303
      nfiles: 4
    outs:
    - path: sweeps/random/IKNN-Explicit-grid.json
      hash: md5
      md5: f6043256c713e4948db4f2f47061b5e4
      size: 325
  export-random-grid-IKNN-Implicit:
    cmd: lenskit-codex sweep export -o sweeps/random/IKNN-Implicit-grid.json sweeps/random/IKNN-Implicit-grid
      RBP
    deps:
    - path: sweeps/random/IKNN-Implicit-grid
      hash: md5
      md5: 81726416aae63e70e868f56dd37b43c6.dir
      size: 287253
      nfiles: 4
    outs:
    - path: sweeps/random/IKNN-Implicit-grid.json
      hash: md5
      md5: 49f64a2ebf84776e7991f7c4ab4c3047
      size: 261
  export-random-grid-ImplicitMF-ALS:
    cmd: lenskit-codex sweep export -o sweeps/random/ImplicitMF-ALS-grid.json sweeps/random/ImplicitMF-ALS-grid
      RBP
    deps:
    - path: sweeps/random/ImplicitMF-ALS-grid
      hash: md5
      md5: 085995bb3d93e6194dc61a19e84fe08a.dir
      size: 91979922
      nfiles: 5
    outs:
    - path: sweeps/random/ImplicitMF-ALS-grid.json
      hash: md5
      md5: 5a73327bf0ab3abc56f7789477ba4cb8
      size: 222
  sweep-random-random-Bias:
    cmd: lenskit-codex sweep run --random --ds-name=ML1M --split=splits/random.toml
      --test-part=0 Bias sweeps/random/Bias-random
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 3eeb8179cedf97e8b91f6cb91ed40524
      size: 320
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/Bias-random
      hash: md5
      md5: 9b099e4a57e3457d886f4dbce7cc4b26.dir
      size: 93959502
      nfiles: 6
  export-random-random-Bias:
    cmd: lenskit-codex sweep export -o sweeps/random/Bias-random.json sweeps/random/Bias-random
      RMSE
    deps:
    - path: sweeps/random/Bias-random
      hash: md5
      md5: 9b099e4a57e3457d886f4dbce7cc4b26.dir
      size: 93959502
      nfiles: 6
    outs:
    - path: sweeps/random/Bias-random.json
      hash: md5
      md5: 84e55105b3bcb2b31fe3f75765de295f
      size: 320
  run-random-random-best-Bias:
    cmd: lenskit-codex generate --param-file=sweeps/random/Bias-random.json --test-part=-0
      --ds-name=ML1M --split=splits/random.toml -o runs/random-random-best/Bias Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 3eeb8179cedf97e8b91f6cb91ed40524
      size: 320
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    - path: sweeps/random/Bias-random.json
      hash: md5
      md5: 84e55105b3bcb2b31fe3f75765de295f
      size: 320
    outs:
    - path: runs/random-random-best/Bias
      hash: md5
      md5: f026e372617506871d3b3064ca64ada7.dir
      size: 4934470
      nfiles: 5
  sweep-random-random-IKNN-Explicit:
    cmd: lenskit-codex sweep run --random --ds-name=ML1M --split=splits/random.toml
      --test-part=0 IKNN-Explicit sweeps/random/IKNN-Explicit-random
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: 11430835ad5db7c0d7ac00160e3818a9
      size: 422
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/IKNN-Explicit-random
      hash: md5
      md5: ffbb3e38000d884bafaa3f03bf341040.dir
      size: 2486924
      nfiles: 4
  export-random-random-IKNN-Explicit:
    cmd: lenskit-codex sweep export -o sweeps/random/IKNN-Explicit-random.json sweeps/random/IKNN-Explicit-random
      RMSE
    deps:
    - path: sweeps/random/IKNN-Explicit-random
      hash: md5
      md5: ffbb3e38000d884bafaa3f03bf341040.dir
      size: 2486924
      nfiles: 4
    outs:
    - path: sweeps/random/IKNN-Explicit-random.json
      hash: md5
      md5: 17c8eae35a3ec9097ab104b8aa667a7a
      size: 354
  run-random-random-best-IKNN-Explicit:
    cmd: lenskit-codex generate --param-file=sweeps/random/IKNN-Explicit-random.json
      --test-part=-0 --ds-name=ML1M --split=splits/random.toml -o runs/random-random-best/IKNN-Explicit
      IKNN-Explicit
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: 11430835ad5db7c0d7ac00160e3818a9
      size: 422
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    - path: sweeps/random/IKNN-Explicit-random.json
      hash: md5
      md5: 17c8eae35a3ec9097ab104b8aa667a7a
      size: 354
    outs:
    - path: runs/random-random-best/IKNN-Explicit
      hash: md5
      md5: 98c23a317335ee17332c2f46347848ec.dir
      size: 163162
      nfiles: 3
  sweep-random-random-IKNN-Implicit:
    cmd: lenskit-codex sweep run --random --ds-name=ML1M --split=splits/random.toml
      --test-part=0 IKNN-Implicit sweeps/random/IKNN-Implicit-random
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 257f3164399012b1c3ae8fd22e69e420
      size: 405
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/IKNN-Implicit-random
      hash: md5
      md5: 2fcea51eac7127228b8ce6b7164b5d20.dir
      size: 1499216
      nfiles: 4
  export-random-random-IKNN-Implicit:
    cmd: lenskit-codex sweep export -o sweeps/random/IKNN-Implicit-random.json sweeps/random/IKNN-Implicit-random
      RBP
    deps:
    - path: sweeps/random/IKNN-Implicit-random
      hash: md5
      md5: 2fcea51eac7127228b8ce6b7164b5d20.dir
      size: 1499216
      nfiles: 4
    outs:
    - path: sweeps/random/IKNN-Implicit-random.json
      hash: md5
      md5: 9d05db85ccc42720052d3351466bd12a
      size: 291
  run-random-random-best-IKNN-Implicit:
    cmd: lenskit-codex generate --param-file=sweeps/random/IKNN-Implicit-random.json
      --test-part=-0 --ds-name=ML1M --split=splits/random.toml -o runs/random-random-best/IKNN-Implicit
      IKNN-Implicit
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 257f3164399012b1c3ae8fd22e69e420
      size: 405
    - path: ratings.duckdb
      hash: md5
      md5: 6f48e3d41018b7f1deb4a9f5aa2c0ecf
      size: 11284480
    - path: splits/random.duckdb
      hash: md5
      md5: 73e24193c1454e73ad0845182e86782d
      size: 536576
    - path: sweeps/random/IKNN-Implicit-random.json
      hash: md5
      md5: 9d05db85ccc42720052d3351466bd12a
      size: 291
    outs:
    - path: runs/random-random-best/IKNN-Implicit
      hash: md5
      md5: fa8e31e2bad9839c53d3ded02340e11f.dir
      size: 103304
      nfiles: 3
  stats:
    cmd: lenskit codex sql -D ds_name=ML1M -f ../ml-stats.sql stats.duckdb
    deps:
    - path: ../ml-stats.sql
      hash: md5
      md5: 56a6eb38e5f620ae1753f9bf93d58642
      size: 1921
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    outs:
    - path: stats.duckdb
      hash: md5
      md5: 969c2543acc09afa098ffd83e1790036
      size: 1323008
  run-random-default-bias:
    cmd: lenskit codex generate --default --ds-name=ML1M --split=splits/random.toml
      -o runs/random/bias-default bias
    deps:
    - path: ../../src/codex/models/bias.py
      hash: md5
      md5: 40e4db1c37e4058f292a549e47b1e3e2
      size: 324
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random/bias-default
      hash: md5
      md5: f7c67a159460accbd049b319f321fa9b.dir
      size: 3093835
      nfiles: 5
  sweep-bias-random-random:
    cmd: lenskit codex search --split=splits/random.toml --test-part=0 --random --metric=RMSE
      bias sweeps/random/bias-random
    deps:
    - path: ../../src/codex/models/bias.py
      hash: md5
      md5: 79d1ef7f11afd2f4a19828a1c0d1072d
      size: 322
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: sweeps/random/bias-random
      hash: md5
      md5: 00a19ae667484f99daf17517657ed5fd.dir
      size: 392035
      nfiles: 3
    - path: sweeps/random/bias-random.json
      hash: md5
      md5: 129fbea96ad1efdf76baf45e5fd392d8
      size: 790
  run-random-random-best-bias:
    cmd: lenskit codex generate --param-file sweeps/random/bias-random.json --ds-name=ML1M
      --split=splits/random.toml -o runs/random/bias-random-best bias
    deps:
    - path: ../../src/codex/models/bias.py
      hash: md5
      md5: 40e4db1c37e4058f292a549e47b1e3e2
      size: 324
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    - path: sweeps/random/bias-random.json
      hash: md5
      md5: 9436702d3e53c738787fcc6e23afc606
      size: 784
    outs:
    - path: runs/random/bias-random-best
      hash: md5
      md5: da614dcf92b43a2305301f604197db2e.dir
      size: 3243550
      nfiles: 5
  run-random-default-iknn-explicit:
    cmd: lenskit codex generate --default --ds-name=ML1M --split=splits/random.toml
      -o runs/random/iknn-explicit-default iknn-explicit
    deps:
    - path: ../../src/codex/models/iknn_explicit.py
      hash: md5
      md5: 93bcfed829fef1ede127494331886a89
      size: 432
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random/iknn-explicit-default
      hash: md5
      md5: 872b1b7bf8f908339b44f93095923dc4.dir
      size: 3838297
      nfiles: 5
  run-random-default-iknn-implicit:
    cmd: lenskit codex generate --default --ds-name=ML1M --split=splits/random.toml
      -o runs/random/iknn-implicit-default iknn-implicit
    deps:
    - path: ../../src/codex/models/iknn_implicit.py
      hash: md5
      md5: c5d0e6edfe9f708afc1a0ef953fb7025
      size: 433
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random/iknn-implicit-default
      hash: md5
      md5: 5cb9c426cde3f0d940eb7dee18bc480f.dir
      size: 3586673
      nfiles: 4
  run-random-default-popular:
    cmd: lenskit codex generate --default --ds-name=ML1M --split=splits/random.toml
      -o runs/random/popular-default popular
    deps:
    - path: ../../src/codex/models/popular.py
      hash: md5
      md5: c1b8d18adf4c2f7d9807ad4f8c766732
      size: 56
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random/popular-default
      hash: md5
      md5: 86ef2e55e53425248d0bcb6ce9791300.dir
      size: 773026
      nfiles: 4
  sweep-iknn-explicit-random-random:
    cmd: lenskit codex search --split=splits/random.toml --test-part=0 --sample-count=60
      --random --metric=RMSE iknn-explicit sweeps/random/iknn-explicit-random
    deps:
    - path: ../../src/codex/models/iknn_explicit.py
      hash: md5
      md5: 93bcfed829fef1ede127494331886a89
      size: 432
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: sweeps/random/iknn-explicit-random
      hash: md5
      md5: 90968543311ae3ecbebb0c9d496eba6b.dir
      size: 237201
      nfiles: 3
    - path: sweeps/random/iknn-explicit-random.json
      hash: md5
      md5: 2e63c3eb4289c282a56e2c20004371f9
      size: 797
  run-random-random-best-iknn-explicit:
    cmd: lenskit codex generate --param-file sweeps/random/iknn-explicit-random.json
      --ds-name=ML1M --split=splits/random.toml -o runs/random/iknn-explicit-random-best
      iknn-explicit
    deps:
    - path: ../../src/codex/models/iknn_explicit.py
      hash: md5
      md5: 93bcfed829fef1ede127494331886a89
      size: 432
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    - path: sweeps/random/iknn-explicit-random.json
      hash: md5
      md5: 2e63c3eb4289c282a56e2c20004371f9
      size: 797
    outs:
    - path: runs/random/iknn-explicit-random-best
      hash: md5
      md5: cd0ee3bcdcaa51e3c712c3730c98c468.dir
      size: 3859393
      nfiles: 5
  sweep-iknn-implicit-random-random:
    cmd: lenskit codex search --split=splits/random.toml --test-part=0 --sample-count=60
      --random --metric=RBP iknn-implicit sweeps/random/iknn-implicit-random
    deps:
    - path: ../../src/codex/models/iknn_implicit.py
      hash: md5
      md5: c5d0e6edfe9f708afc1a0ef953fb7025
      size: 433
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: sweeps/random/iknn-implicit-random
      hash: md5
      md5: bb0fd6f44b74c80ba4b5ae99cd682609.dir
      size: 231146
      nfiles: 3
    - path: sweeps/random/iknn-implicit-random.json
      hash: md5
      md5: 261b7fca85d94dcae98adf0287a4e66c
      size: 765
  run-random-random-best-iknn-implicit:
    cmd: lenskit codex generate --param-file sweeps/random/iknn-implicit-random.json
      --ds-name=ML1M --split=splits/random.toml -o runs/random/iknn-implicit-random-best
      iknn-implicit
    deps:
    - path: ../../src/codex/models/iknn_implicit.py
      hash: md5
      md5: c5d0e6edfe9f708afc1a0ef953fb7025
      size: 433
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    - path: sweeps/random/iknn-implicit-random.json
      hash: md5
      md5: 261b7fca85d94dcae98adf0287a4e66c
      size: 765
    outs:
    - path: runs/random/iknn-implicit-random-best
      hash: md5
      md5: c871fa9d84a8b73be674b6ef9faa8cfd.dir
      size: 3594623
      nfiles: 4
  sweep-implicit-bpr-random-random:
    cmd: lenskit codex search --split=splits/random.toml --test-part=0 --random --metric=RBP
      implicit-bpr sweeps/random/implicit-bpr-random
    deps:
    - path: ../../src/codex/models/implicit_bpr.py
      hash: md5
      md5: 0e653a0d87446ef4e0129b75d976c49e
      size: 427
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: sweeps/random/implicit-bpr-random
      hash: md5
      md5: be4288931731d1e5cbd02163f327f05b.dir
      size: 415612
      nfiles: 3
    - path: sweeps/random/implicit-bpr-random.json
      hash: md5
      md5: 21f00ce255ee99b6c77f2361ecfd1dca
      size: 847
  run-random-random-best-implicit-bpr:
    cmd: lenskit codex generate --param-file sweeps/random/implicit-bpr-random.json
      --ds-name=ML1M --split=splits/random.toml -o runs/random/implicit-bpr-random-best
      implicit-bpr
    deps:
    - path: ../../src/codex/models/implicit_bpr.py
      hash: md5
      md5: a00edb9b5a98478d5cfbc76cedbe7ead
      size: 318
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    - path: sweeps/random/implicit-bpr-random.json
      hash: md5
      md5: 21f00ce255ee99b6c77f2361ecfd1dca
      size: 847
    outs:
    - path: runs/random/implicit-bpr-random-best
      hash: md5
      md5: ecc95d2e25da12b062db94498889e0d3.dir
      size: 3783371
      nfiles: 4
  run-random-default-implicit-bpr:
    cmd: lenskit codex generate --default --ds-name=ML1M --split=splits/random.toml
      -o runs/random/implicit-bpr-default implicit-bpr
    deps:
    - path: ../../src/codex/models/implicit_bpr.py
      hash: md5
      md5: a00edb9b5a98478d5cfbc76cedbe7ead
      size: 318
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random/implicit-bpr-default
      hash: md5
      md5: f836a2f26f979913fa30810f435a940e.dir
      size: 3814500
      nfiles: 4
  run-random-default-uknn-explicit:
    cmd: lenskit codex generate --default --ds-name=ML1M --split=splits/random.toml
      -o runs/random/uknn-explicit-default uknn-explicit
    deps:
    - path: ../../src/codex/models/uknn_explicit.py
      hash: md5
      md5: c7321a52e640ca8eb6c5276309d72a63
      size: 438
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random/uknn-explicit-default
      hash: md5
      md5: 090c865ac05c11de5b970905a80a4c08.dir
      size: 3838626
      nfiles: 5
  run-random-default-uknn-implicit:
    cmd: lenskit codex generate --default --ds-name=ML1M --split=splits/random.toml
      -o runs/random/uknn-implicit-default uknn-implicit
    deps:
    - path: ../../src/codex/models/uknn_implicit.py
      hash: md5
      md5: 0ca87563e0c0f3d827ff7678c85529cc
      size: 439
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: runs/random/uknn-implicit-default
      hash: md5
      md5: eedece2e9f74abd4299a3e6bc63eb683.dir
      size: 3795669
      nfiles: 4
  sweep-uknn-explicit-random-random:
    cmd: lenskit codex search --split=splits/random.toml --test-part=0 --sample-count=60
      --random --metric=RMSE uknn-explicit sweeps/random/uknn-explicit-random
    deps:
    - path: ../../src/codex/models/uknn_explicit.py
      hash: md5
      md5: c7321a52e640ca8eb6c5276309d72a63
      size: 438
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: sweeps/random/uknn-explicit-random
      hash: md5
      md5: 8a81fd64b55c608b82c3dc7ac0e3c3ec.dir
      size: 236836
      nfiles: 3
    - path: sweeps/random/uknn-explicit-random.json
      hash: md5
      md5: c6e0c235947d99fb20a915857e6351c6
      size: 808
  run-random-random-best-uknn-explicit:
    cmd: lenskit codex generate --param-file sweeps/random/uknn-explicit-random.json
      --ds-name=ML1M --split=splits/random.toml -o runs/random/uknn-explicit-random-best
      uknn-explicit
    deps:
    - path: ../../src/codex/models/uknn_explicit.py
      hash: md5
      md5: c7321a52e640ca8eb6c5276309d72a63
      size: 438
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    - path: sweeps/random/uknn-explicit-random.json
      hash: md5
      md5: c6e0c235947d99fb20a915857e6351c6
      size: 808
    outs:
    - path: runs/random/uknn-explicit-random-best
      hash: md5
      md5: e39557cabc4d60dc5090b1fac8ffa50c.dir
      size: 3847692
      nfiles: 5
  sweep-uknn-implicit-random-random:
    cmd: lenskit codex search --split=splits/random.toml --test-part=0 --sample-count=60
      --random --metric=RBP uknn-implicit sweeps/random/uknn-implicit-random
    deps:
    - path: ../../src/codex/models/uknn_implicit.py
      hash: md5
      md5: 0ca87563e0c0f3d827ff7678c85529cc
      size: 439
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: sweeps/random/uknn-implicit-random
      hash: md5
      md5: 0b56986be1f3adf724d9dacef03482c2.dir
      size: 231873
      nfiles: 3
    - path: sweeps/random/uknn-implicit-random.json
      hash: md5
      md5: 5fc813770854188c4fecc850e2e9c39d
      size: 769
  run-random-random-best-uknn-implicit:
    cmd: lenskit codex generate --param-file sweeps/random/uknn-implicit-random.json
      --ds-name=ML1M --split=splits/random.toml -o runs/random/uknn-implicit-random-best
      uknn-implicit
    deps:
    - path: ../../src/codex/models/uknn_implicit.py
      hash: md5
      md5: 0ca87563e0c0f3d827ff7678c85529cc
      size: 439
    - path: dataset
      hash: md5
      md5: abae7c82c38a4d4ff41c94aa44c7c6f6.dir
      size: 6161837
      nfiles: 5
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    - path: sweeps/random/uknn-implicit-random.json
      hash: md5
      md5: 5fc813770854188c4fecc850e2e9c39d
      size: 769
    outs:
    - path: runs/random/uknn-implicit-random-best
      hash: md5
      md5: 84da1010e0b40a38802f637be2450ce3.dir
      size: 3755975
      nfiles: 4
  sweep-flexmf-explicit-random-random:
    cmd: lenskit codex search --split=splits/random.toml --test-part=0 --random --metric=RMSE
      flexmf-explicit sweeps/random/flexmf-explicit-random
    deps:
    - path: ../../src/codex/models/flexmf_explicit.py
      hash: md5
      md5: 1f89375c8302dc91c06e83567f559af1
      size: 528
    - path: splits/random.parquet
      hash: md5
      md5: e76a6b995411abb5ba2ade811e7f8d1f
      size: 358913
    outs:
    - path: sweeps/random/flexmf-explicit-random
      hash: md5
      md5: df10e8a6e82d508067d25cc07bd10a83.dir
      size: 505002
      nfiles: 5
    - path: sweeps/random/flexmf-explicit-random.json
      hash: md5
      md5: f51e479ba8a06230174e23d9fc3c69af
      size: 801
