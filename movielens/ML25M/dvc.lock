schema: '2.0'
stages:
  import-data:
    cmd: python ../import-ml.py ml-25m.zip
    deps:
    - path: ../import-ml.py
      hash: md5
      md5: 4af94250c13bdd7beff8235e442549c6
      size: 3732
    - path: ml-25m.zip
      hash: md5
      md5: 6b51fb2759a8657d3bfcbfc42b592ada
      size: 261978986
    outs:
    - path: ratings.duckdb
      hash: md5
      md5: 39db36eb36970ddb8a9d3f5c299e7c62
      size: 243019776
  import-ml-25m:
    cmd: python ../import-ml.py ml-25m.zip
    deps:
    - path: ../import-ml.py
      hash: md5
      md5: 30e3b5d3d15e7797637601877711c1ba
      size: 3648
    - path: ../ml-stats.sql
      hash: md5
      md5: b016dc983a2156e0712a846097a968e7
      size: 1307
    - path: ml-25m.zip
      hash: md5
      md5: 6b51fb2759a8657d3bfcbfc42b592ada
      size: 261978986
    outs:
    - path: ratings.duckdb
      hash: md5
      md5: 9463b4c41e34c62316f2518ffa78b1bd
      size: 299642880
  ml-25m-stats:
    cmd: python ../../scripts/duckdb-sql.py -d stats.duckdb ../ml-stats.sql
    deps:
    - path: ../ml-stats.sql
      hash: md5
      md5: bf09f212fabc98275ae949932889654c
      size: 1374
    - path: ratings.parquet
      hash: md5
      md5: 60a83d1b954209733419580cbfb6d27a
      size: 216741269
    outs:
    - path: stats.duckdb
      hash: md5
      md5: 6dcc1794a0e0d90e2cdeb756c84d55b1
      size: 5255168
