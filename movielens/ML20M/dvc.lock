schema: '2.0'
stages:
  import-data:
    cmd: python ../import-ml.py ml-20m.zip
    deps:
    - path: ../import-ml.py
      hash: md5
      md5: 4af94250c13bdd7beff8235e442549c6
      size: 3732
    - path: ml-20m.zip
      hash: md5
      md5: cd245b17a1ae2cc31bb14903e1204af3
      size: 198702078
    outs:
    - path: ratings.duckdb
      hash: md5
      md5: f056b72df139341f2d451e69f4624ea9
      size: 190328832
  import-ml-20m:
    cmd: python ../import-ml.py ml-20m.zip
    deps:
    - path: ../import-ml.py
      hash: md5
      md5: 30e3b5d3d15e7797637601877711c1ba
      size: 3648
    - path: ../ml-stats.sql
      hash: md5
      md5: b016dc983a2156e0712a846097a968e7
      size: 1307
    - path: ml-20m.zip
      hash: md5
      md5: cd245b17a1ae2cc31bb14903e1204af3
      size: 198702078
    outs:
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
  ml-20m-stats:
    cmd: python ../../scripts/duckdb-sql.py -d stats.duckdb ../ml-stats.sql
    deps:
    - path: ../ml-stats.sql
      hash: md5
      md5: bf09f212fabc98275ae949932889654c
      size: 1374
    - path: ratings.parquet
      hash: md5
      md5: 0dc579f176e5f798b67fda4ee0873b27
      size: 165821204
    outs:
    - path: stats.duckdb
      hash: md5
      md5: cc596bebeb0b9d8738a06ad937166ce6
      size: 4468736
  split-random:
    cmd: lenskit-codex split random.toml
    deps:
    - path: ../ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: random.toml
      hash: md5
      md5: 276ffa520abcf2243c9ffee115774a98
      size: 137
    params:
      ../../../config.toml:
        random.seed: 20240717
    outs:
    - path: random.duckdb
      hash: md5
      md5: 8e9e1114339cc00544846f9f6e407f9a
      size: 4993024
  sweep-random-Bias:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      Bias sweeps/random/Bias.duckdb
    deps:
    - path: ../../codex/models/Bias.py
      hash: md5
      md5: e35eac761bf892674a6fb8570132e7f1
      size: 375
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/Bias.duckdb
      hash: md5
      md5: c9c650c2aa9527fb7ac1118d6e3c0372
      size: 281554944
  sweep-random-BiasedMF-ALS:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      BiasedMF-ALS sweeps/random/BiasedMF-ALS.duckdb
    deps:
    - path: ../../codex/models/BiasedMF_ALS.py
      hash: md5
      md5: 70b01ec78dc3f1c3d09190c032bc05a6
      size: 349
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/BiasedMF-ALS.duckdb
      hash: md5
      md5: f667d9e1df5677a4d3656cdcaa83b0bc
      size: 591409152
  sweep-random-ImplicitMF-ALS:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      ImplicitMF-ALS sweeps/random/ImplicitMF-ALS.duckdb
    deps:
    - path: ../../codex/models/ImplicitMF_ALS.py
      hash: md5
      md5: f88cb5bd1014e55b8c0d9a1650863c94
      size: 359
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/ImplicitMF-ALS.duckdb
      hash: md5
      md5: d5745ada950a74f65a4680235ee152cc
      size: 545271808
  sweep-random-IKNN-Explicit:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      IKNN-Explicit sweeps/random/IKNN-Explicit.duckdb
    deps:
    - path: ../../codex/models/IKNN_Explicit.py
      hash: md5
      md5: d7b6a1734bea39997f94df4fa0c4900e
      size: 378
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/IKNN-Explicit.duckdb
      hash: md5
      md5: 1457d8a5d0b3acda4fbb58491f41d8ff
      size: 237776896
  sweep-random-IKNN-Implicit:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      IKNN-Implicit sweeps/random/IKNN-Implicit.duckdb
    deps:
    - path: ../../codex/models/IKNN_Implicit.py
      hash: md5
      md5: 3ca2f37d6c1983760fcd2ff03a0a57cb
      size: 363
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/IKNN-Implicit.duckdb
      hash: md5
      md5: b1840d89dc964f2f5d4e7101d57076cc
      size: 219164672
  import:
    cmd: lenskit-codex movielens import --stat-sql=../ml-stats.sql ml-20m.zip
    deps:
    - path: ../ml-stats.sql
      hash: md5
      md5: b016dc983a2156e0712a846097a968e7
      size: 1307
    - path: ml-20m.zip
      hash: md5
      md5: cd245b17a1ae2cc31bb14903e1204af3
      size: 198702078
    outs:
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
  export-random-Bias:
    cmd: python ../../action.py sweep export sweeps/random/Bias.duckdb rmse
    deps:
    - path: sweeps/random/Bias.duckdb
      hash: md5
      md5: c9c650c2aa9527fb7ac1118d6e3c0372
      size: 281554944
    outs:
    - path: sweeps/random/Bias.csv
      hash: md5
      md5: 2ae154b795cdf79fad2ad2b5f18d1444
      size: 2093
    - path: sweeps/random/Bias.json
      hash: md5
      md5: f1683344cab30ad554de6fdc6778ed1d
      size: 317
  export-random-BiasedMF-ALS:
    cmd: python ../../action.py sweep export sweeps/random/BiasedMF-ALS.duckdb rmse
    deps:
    - path: sweeps/random/BiasedMF-ALS.duckdb
      hash: md5
      md5: f667d9e1df5677a4d3656cdcaa83b0bc
      size: 591409152
    outs:
    - path: sweeps/random/BiasedMF-ALS.csv
      hash: md5
      md5: 538dabb2d3d225aa18616556f79bd888
      size: 3938
    - path: sweeps/random/BiasedMF-ALS.json
      hash: md5
      md5: 59c312e2f203d76af750452b92e21b3b
      size: 309
  export-random-ImplicitMF-ALS:
    cmd: python ../../action.py sweep export sweeps/random/ImplicitMF-ALS.duckdb ndcg
    deps:
    - path: sweeps/random/ImplicitMF-ALS.duckdb
      hash: md5
      md5: d5745ada950a74f65a4680235ee152cc
      size: 545271808
    outs:
    - path: sweeps/random/ImplicitMF-ALS.csv
      hash: md5
      md5: ff966b4140006d7d8c916dbf35b26422
      size: 2720
    - path: sweeps/random/ImplicitMF-ALS.json
      hash: md5
      md5: 5bde7a8c936beada3cafcf218230e87f
      size: 244
  export-random-IKNN-Explicit:
    cmd: python ../../action.py sweep export sweeps/random/IKNN-Explicit.duckdb rmse
    deps:
    - path: sweeps/random/IKNN-Explicit.duckdb
      hash: md5
      md5: 1457d8a5d0b3acda4fbb58491f41d8ff
      size: 237776896
    outs:
    - path: sweeps/random/IKNN-Explicit.csv
      hash: md5
      md5: cd5f16155976535536e89ad961e59da1
      size: 1600
    - path: sweeps/random/IKNN-Explicit.json
      hash: md5
      md5: a337c006de8ea1d2b8014042561c60ea
      size: 310
  export-random-IKNN-Implicit:
    cmd: python ../../action.py sweep export sweeps/random/IKNN-Implicit.duckdb ndcg
    deps:
    - path: sweeps/random/IKNN-Implicit.duckdb
      hash: md5
      md5: b1840d89dc964f2f5d4e7101d57076cc
      size: 219164672
    outs:
    - path: sweeps/random/IKNN-Implicit.csv
      hash: md5
      md5: 979f9386d2c74d33024892f403aaa47c
      size: 1107
    - path: sweeps/random/IKNN-Implicit.json
      hash: md5
      md5: 0fff7655fc4a7456de7e3a3708c33867
      size: 246
  run-random-default-Bias:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/Bias.duckdb Bias
    deps:
    - path: ../../codex/models/Bias.py
      hash: md5
      md5: e35eac761bf892674a6fb8570132e7f1
      size: 375
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    outs:
    - path: runs/random-default/Bias.duckdb
      hash: md5
      md5: a99b155f9ff3f95a2ccdd0954c5a84f6
      size: 87044096
  run-random-sweep-best-Bias:
    cmd: python ../../action.py generate --param-file=sweeps/random/Bias.json --test-part=-0
      --assignments=splits/random.duckdb --ratings=ratings.duckdb -o runs/random-sweep-best/Bias.duckdb
      Bias
    deps:
    - path: ../../codex/models/Bias.py
      hash: md5
      md5: e35eac761bf892674a6fb8570132e7f1
      size: 375
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    - path: sweeps/random/Bias.json
      hash: md5
      md5: f1683344cab30ad554de6fdc6778ed1d
      size: 317
    outs:
    - path: runs/random-sweep-best/Bias.duckdb
      hash: md5
      md5: 562592dc9a65713556b74bcf6b4f52ad
      size: 87044096
  run-random-default-Popular:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb --stats=runs/random-default/Popular.json --recommendations=runs/random-default/Popular-recs.parquet
      Popular
    deps:
    - path: ../../codex/models/Popular.py
      hash: md5
      md5: 6e8ad3acdea3e26808c9796209279f35
      size: 224
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    outs:
    - path: runs/random-default/Popular-recs.parquet
      hash: md5
      md5: d78b0effbe6c6ed5f316c7b8749c191d
      size: 10720583779
    - path: runs/random-default/Popular.json
      hash: md5
      md5: 3111b3e108d47625b8463b7554a04d1c
      size: 650
  run-random-default-BiasedMF-ALS:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/BiasedMF-ALS.duckdb BiasedMF-ALS
    deps:
    - path: ../../codex/models/BiasedMF_ALS.py
      hash: md5
      md5: 70b01ec78dc3f1c3d09190c032bc05a6
      size: 349
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    outs:
    - path: runs/random-default/BiasedMF-ALS.duckdb
      hash: md5
      md5: 2ba1ebafba9511684bc35c248ade207b
      size: 87044096
  run-random-sweep-best-BiasedMF-ALS:
    cmd: python ../../action.py generate --param-file=sweeps/random/BiasedMF-ALS.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-sweep-best/BiasedMF-ALS.duckdb BiasedMF-ALS
    deps:
    - path: ../../codex/models/BiasedMF_ALS.py
      hash: md5
      md5: 70b01ec78dc3f1c3d09190c032bc05a6
      size: 349
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    - path: sweeps/random/BiasedMF-ALS.json
      hash: md5
      md5: 59c312e2f203d76af750452b92e21b3b
      size: 309
    outs:
    - path: runs/random-sweep-best/BiasedMF-ALS.duckdb
      hash: md5
      md5: 69ecc408aa938ecc0d3b7bafe476bc60
      size: 87306240
  run-random-default-ImplicitMF-ALS:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/ImplicitMF-ALS.duckdb ImplicitMF-ALS
    deps:
    - path: ../../codex/models/ImplicitMF_ALS.py
      hash: md5
      md5: f88cb5bd1014e55b8c0d9a1650863c94
      size: 359
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    outs:
    - path: runs/random-default/ImplicitMF-ALS.duckdb
      hash: md5
      md5: 3d8834f0b67bf24c781c71e4c8c9a6fe
      size: 82325504
  run-random-sweep-best-ImplicitMF-ALS:
    cmd: python ../../action.py generate --param-file=sweeps/random/ImplicitMF-ALS.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-sweep-best/ImplicitMF-ALS.duckdb ImplicitMF-ALS
    deps:
    - path: ../../codex/models/ImplicitMF_ALS.py
      hash: md5
      md5: f88cb5bd1014e55b8c0d9a1650863c94
      size: 359
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    - path: sweeps/random/ImplicitMF-ALS.json
      hash: md5
      md5: 5bde7a8c936beada3cafcf218230e87f
      size: 244
    outs:
    - path: runs/random-sweep-best/ImplicitMF-ALS.duckdb
      hash: md5
      md5: a92270cc885e0ce83f8f915fe7c96495
      size: 82849792
  run-random-default-IKNN-Explicit:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/IKNN-Explicit.duckdb IKNN-Explicit
    deps:
    - path: ../../codex/models/IKNN_Explicit.py
      hash: md5
      md5: d7b6a1734bea39997f94df4fa0c4900e
      size: 378
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    outs:
    - path: runs/random-default/IKNN-Explicit.duckdb
      hash: md5
      md5: ff0f3fb7c6f4c13d684d24803afccb2c
      size: 86519808
  run-random-sweep-best-IKNN-Explicit:
    cmd: python ../../action.py generate --param-file=sweeps/random/IKNN-Explicit.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-sweep-best/IKNN-Explicit.duckdb IKNN-Explicit
    deps:
    - path: ../../codex/models/IKNN_Explicit.py
      hash: md5
      md5: d7b6a1734bea39997f94df4fa0c4900e
      size: 378
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    - path: sweeps/random/IKNN-Explicit.json
      hash: md5
      md5: a337c006de8ea1d2b8014042561c60ea
      size: 310
    outs:
    - path: runs/random-sweep-best/IKNN-Explicit.duckdb
      hash: md5
      md5: 2ee366b48909607a5eb9a0bbf6c9f612
      size: 86781952
  run-random-default-IKNN-Implicit:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/IKNN-Implicit.duckdb IKNN-Implicit
    deps:
    - path: ../../codex/models/IKNN_Implicit.py
      hash: md5
      md5: 3ca2f37d6c1983760fcd2ff03a0a57cb
      size: 363
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    outs:
    - path: runs/random-default/IKNN-Implicit.duckdb
      hash: md5
      md5: 66dde2529ec56d4f8ef578b5fc15dad6
      size: 82325504
  run-random-sweep-best-IKNN-Implicit:
    cmd: python ../../action.py generate --param-file=sweeps/random/IKNN-Implicit.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-sweep-best/IKNN-Implicit.duckdb IKNN-Implicit
    deps:
    - path: ../../codex/models/IKNN_Implicit.py
      hash: md5
      md5: 3ca2f37d6c1983760fcd2ff03a0a57cb
      size: 363
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    - path: sweeps/random/IKNN-Implicit.json
      hash: md5
      md5: 0fff7655fc4a7456de7e3a3708c33867
      size: 246
    outs:
    - path: runs/random-sweep-best/IKNN-Implicit.duckdb
      hash: md5
      md5: da5c0e6add61e0675a4a488c436fc97b
      size: 82587648
  run-random-default-UKNN-Implicit:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/UKNN-Implicit.duckdb UKNN-Implicit
    deps:
    - path: ../../codex/models/UKNN_Implicit.py
      hash: md5
      md5: fd52b2729524c3279709cc034aea9df5
      size: 363
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    outs:
    - path: runs/random-default/UKNN-Implicit.duckdb
      hash: md5
      md5: 7099007298be0aaca4f75ba03ee5374c
      size: 82325504
  sweep-random-UKNN-Implicit:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      UKNN-Implicit sweeps/random/UKNN-Implicit.duckdb
    deps:
    - path: ../../codex/models/UKNN_Implicit.py
      hash: md5
      md5: fd52b2729524c3279709cc034aea9df5
      size: 363
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/UKNN-Implicit.duckdb
      hash: md5
      md5: 62e132fb11de7b0ab649e009f7594aba
      size: 1304702976
  export-random-UKNN-Implicit:
    cmd: python ../../action.py sweep export sweeps/random/UKNN-Implicit.duckdb ndcg
    deps:
    - path: sweeps/random/UKNN-Implicit.duckdb
      hash: md5
      md5: 5b9a207b18f5874d055b8e740e85ae15
      size: 54975016960
    outs:
    - path: sweeps/random/UKNN-Implicit.csv
      hash: md5
      md5: c4c1a67033a4b5f9348bc7c497067ea3
      size: 1238
    - path: sweeps/random/UKNN-Implicit.json
      hash: md5
      md5: c11ae7699d4d4211d31e35bc9b6720b7
      size: 261
  run-random-sweep-best-UKNN-Implicit:
    cmd: python ../../action.py generate --param-file=sweeps/random/UKNN-Implicit.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-sweep-best/UKNN-Implicit.duckdb UKNN-Implicit
    deps:
    - path: ../../codex/models/UKNN_Implicit.py
      hash: md5
      md5: fd52b2729524c3279709cc034aea9df5
      size: 363
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    - path: sweeps/random/UKNN-Implicit.json
      hash: md5
      md5: c11ae7699d4d4211d31e35bc9b6720b7
      size: 261
    outs:
    - path: runs/random-sweep-best/UKNN-Implicit.duckdb
      hash: md5
      md5: 63852c9e0e4c634c9f6c3a6de6b61701
      size: 82587648
  sweep-random-Implicit-BPR:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      Implicit-BPR sweeps/random/Implicit-BPR.duckdb
    deps:
    - path: ../../codex/models/Implicit_BPR.py
      hash: md5
      md5: ead16dddccd03e2611e9e0bef3e4686c
      size: 360
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/Implicit-BPR.duckdb
      hash: md5
      md5: 2edc3133480c1ea9ef04f716fdb9be7a
      size: 3298832384
  export-random-Implicit-BPR:
    cmd: python ../../action.py sweep export sweeps/random/Implicit-BPR.duckdb ndcg
    deps:
    - path: sweeps/random/Implicit-BPR.duckdb
      hash: md5
      md5: 760c61a3b2d53e0a5d9ca72bf823eb4d
      size: 153558986752
    outs:
    - path: sweeps/random/Implicit-BPR.csv
      hash: md5
      md5: 1c3048cc68eeae45d5a0f23e34c5cd47
      size: 2809
    - path: sweeps/random/Implicit-BPR.json
      hash: md5
      md5: 84c79c995e61a7a37a34c48b1d8119f1
      size: 263
  run-random-sweep-best-Implicit-BPR:
    cmd: python ../../action.py generate --param-file=sweeps/random/Implicit-BPR.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-sweep-best/Implicit-BPR.duckdb Implicit-BPR
    deps:
    - path: ../../codex/models/Implicit_BPR.py
      hash: md5
      md5: ead16dddccd03e2611e9e0bef3e4686c
      size: 360
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    - path: sweeps/random/Implicit-BPR.json
      hash: md5
      md5: 84c79c995e61a7a37a34c48b1d8119f1
      size: 263
    outs:
    - path: runs/random-sweep-best/Implicit-BPR.duckdb
      hash: md5
      md5: ffb9643ba81f8f6c9be8afa74cfefa71
      size: 82325504
  run-random-default-HPF:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/HPF.duckdb HPF
    deps:
    - path: ../../codex/models/HPF.py
      hash: md5
      md5: 2d51c82536e7137ac38f1217a3d551b1
      size: 313
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    outs:
    - path: runs/random-default/HPF.duckdb
      hash: md5
      md5: 1b297e5266b284ae5fb5665d73c886b3
      size: 87568384
  sweep-random-UKNN-Explicit:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      UKNN-Explicit sweeps/random/UKNN-Explicit.duckdb
    deps:
    - path: ../../codex/models/UKNN_Explicit.py
      hash: md5
      md5: ef4186443ab61ef9d7ddfc2d71b86fb4
      size: 378
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/UKNN-Explicit.duckdb
      hash: md5
      md5: 8df2713879d60f66966309adaa11d131
      size: 1109929984
  run-random-default-Implicit-BPR:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/Implicit-BPR.duckdb Implicit-BPR
    deps:
    - path: ../../codex/models/Implicit_BPR.py
      hash: md5
      md5: ead16dddccd03e2611e9e0bef3e4686c
      size: 360
    - path: ratings.duckdb
      hash: md5
      md5: cccd30242af2c39130c7e15a6e20a523
      size: 239874048
    - path: splits/random.duckdb
      hash: md5
      md5: a82c2ba5fa6de4e71538a26dca72079d
      size: 3944448
    outs:
    - path: runs/random-default/Implicit-BPR.duckdb
      hash: md5
      md5: 125bffbec91de2cc818dfe5a81393bef
      size: 82325504
  run-temporal-valid-default-IKNN-Implicit:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/IKNN-Implicit IKNN-Implicit
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 2bfec2d4beb12854e5e7d632f0fd6396
      size: 152
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    outs:
    - path: runs/temporal-valid-default/IKNN-Implicit
      hash: md5
      md5: 969546e10a9b3dc16a4766c2af3680e7.dir
      size: 3381421
      nfiles: 11
  run-temporal-valid-default-IKNN-Explicit:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/IKNN-Explicit IKNN-Explicit
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: cb85c79c654c8e897015241c0f670c0d
      size: 169
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    outs:
    - path: runs/temporal-valid-default/IKNN-Explicit
      hash: md5
      md5: 9ea0bceaf4cb080b2dab12cf458f17f3.dir
      size: 6680556
      nfiles: 19
  sweep-temporal-ImplicitMF-ALS:
    cmd: lenskit-codex sweep run --ds-name=ML20M --split=splits/temporal.toml --test-part=valid
      ImplicitMF-ALS sweeps/temporal/ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: e3b0120ab5820325128a9eb87d851e7f
      size: 151
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/temporal/ImplicitMF-ALS
      hash: md5
      md5: 0c0ae5e3feafa5f7014c037e2995a802.dir
      size: 526164007
      nfiles: 244
  export-temporal-ImplicitMF-ALS:
    cmd: lenskit-codex sweep export -o sweeps/temporal/ImplicitMF-ALS.json sweeps/temporal/ImplicitMF-ALS
      RBP
    deps:
    - path: sweeps/temporal/ImplicitMF-ALS
      hash: md5
      md5: 0c61e12d9343009c97d615e627da5202.dir
      size: 526164007
      nfiles: 244
    outs:
    - path: sweeps/temporal/ImplicitMF-ALS.json
      hash: md5
      md5: 4ce942b2f753913af1ea04ba518687eb
      size: 219
  run-temporal-sweep-best-ImplicitMF-ALS:
    cmd: lenskit-codex generate --param-file=sweeps/temporal/ImplicitMF-ALS.json --test-part=-0
      --split=splits/temporal.toml -o runs/temporal-sweep-best/ImplicitMF-ALS ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: e3b0120ab5820325128a9eb87d851e7f
      size: 151
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    - path: sweeps/temporal/ImplicitMF-ALS.json
      hash: md5
      md5: 4ce942b2f753913af1ea04ba518687eb
      size: 219
    outs:
    - path: runs/temporal-sweep-best/ImplicitMF-ALS
      hash: md5
      md5: 67aa9c0b6089a1875f857b58c77d639f.dir
      size: 241787
      nfiles: 3
  sweep-temporal-IKNN-Explicit:
    cmd: lenskit-codex sweep run --ds-name=ML20M --split=splits/temporal.toml --test-part=valid
      IKNN-Explicit sweeps/temporal/IKNN-Explicit
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: cb85c79c654c8e897015241c0f670c0d
      size: 169
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/temporal/IKNN-Explicit
      hash: md5
      md5: 88244ff48ef9217c390ed3f6516e4e2f.dir
      size: 243817174
      nfiles: 196
  sweep-temporal-BiasedMF-ALS:
    cmd: lenskit-codex sweep run --ds-name=ML20M --split=splits/temporal.toml --test-part=valid
      BiasedMF-ALS sweeps/temporal/BiasedMF-ALS
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: d6a4dc846449f893683a847940f9c176
      size: 166
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/temporal/BiasedMF-ALS
      hash: md5
      md5: 5e972c33641e1e6ab7d40cb00b58f257.dir
      size: 578112527
      nfiles: 484
  export-temporal-BiasedMF-ALS:
    cmd: lenskit-codex sweep export -o sweeps/temporal/BiasedMF-ALS.json sweeps/temporal/BiasedMF-ALS
      RMSE
    deps:
    - path: sweeps/temporal/BiasedMF-ALS
      hash: md5
      md5: 7daeb83de0e50e8f8daa465384cd2d90.dir
      size: 578112527
      nfiles: 484
    outs:
    - path: sweeps/temporal/BiasedMF-ALS.json
      hash: md5
      md5: 4899523add6c2b867ee850f6e8ecd674
      size: 273
  run-temporal-valid-default-HPF:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/HPF HPF
    deps:
    - path: ../../models/HPF.toml
      hash: md5
      md5: 0b2c295f5f53e6c0e41cddc0f31b85b2
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: c8f3e64e1c7841dd27b87a48f4a52b7d
      size: 116
    outs:
    - path: runs/temporal-valid-default/HPF
      hash: md5
      md5: b2f4d2ebcab0e6be3c4198ff2623fc2a.dir
      size: 3614181
      nfiles: 11
  run-temporal-default-ImplicitMF-ALS:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml -o runs/temporal-default/ImplicitMF-ALS
      ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: e3b0120ab5820325128a9eb87d851e7f
      size: 151
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    outs:
    - path: runs/temporal-default/ImplicitMF-ALS
      hash: md5
      md5: a44c0692739d053af67bdffcce239ba8.dir
      size: 254022
      nfiles: 3
  export-temporal-IKNN-Explicit:
    cmd: lenskit-codex sweep export -o sweeps/temporal/IKNN-Explicit.json sweeps/temporal/IKNN-Explicit
      RMSE
    deps:
    - path: sweeps/temporal/IKNN-Explicit
      hash: md5
      md5: db2233b9af35dab9f8c637fec9ea69d0.dir
      size: 243817174
      nfiles: 196
    outs:
    - path: sweeps/temporal/IKNN-Explicit.json
      hash: md5
      md5: 26827eef832a76181867f64da779bebc
      size: 299
  run-temporal-sweep-best-BiasedMF-ALS:
    cmd: lenskit-codex generate --param-file=sweeps/temporal/BiasedMF-ALS.json --test-part=-0
      --split=splits/temporal.toml -o runs/temporal-sweep-best/BiasedMF-ALS BiasedMF-ALS
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: d6a4dc846449f893683a847940f9c176
      size: 166
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    - path: sweeps/temporal/BiasedMF-ALS.json
      hash: md5
      md5: 4899523add6c2b867ee850f6e8ecd674
      size: 273
    outs:
    - path: runs/temporal-sweep-best/BiasedMF-ALS
      hash: md5
      md5: 90f39c3f851868276a48d6f189dbfd35.dir
      size: 462217
      nfiles: 3
  run-temporal-default-Bias:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml -o runs/temporal-default/Bias
      Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 97f305e8c04fb52cff715d59711b5eed
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    outs:
    - path: runs/temporal-default/Bias
      hash: md5
      md5: e43c86f7951a11c76a8bbfec98740a39.dir
      size: 452263
      nfiles: 3
  sweep-temporal-Bias:
    cmd: lenskit-codex sweep run --ds-name=ML20M --split=splits/temporal.toml --test-part=valid
      Bias sweeps/temporal/Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 97f305e8c04fb52cff715d59711b5eed
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/temporal/Bias
      hash: md5
      md5: f212d5688630fda0a9d8b5d7a37f6251.dir
      size: 273198166
      nfiles: 260
  export-temporal-Bias:
    cmd: lenskit-codex sweep export -o sweeps/temporal/Bias.json sweeps/temporal/Bias
      RMSE
    deps:
    - path: sweeps/temporal/Bias
      hash: md5
      md5: 6d69d696a45fff05c3670d1c766a36db.dir
      size: 273198166
      nfiles: 260
    outs:
    - path: sweeps/temporal/Bias.json
      hash: md5
      md5: ae104a019cf7613ebe0ba115298c7a17
      size: 281
  run-temporal-sweep-best-Bias:
    cmd: lenskit-codex generate --param-file=sweeps/temporal/Bias.json --test-part=-0
      --split=splits/temporal.toml -o runs/temporal-sweep-best/Bias Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 97f305e8c04fb52cff715d59711b5eed
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    - path: sweeps/temporal/Bias.json
      hash: md5
      md5: ae104a019cf7613ebe0ba115298c7a17
      size: 281
    outs:
    - path: runs/temporal-sweep-best/Bias
      hash: md5
      md5: d9fbab92d4c439918c06af7ae3af1b4d.dir
      size: 455816
      nfiles: 3
  run-temporal-default-Popular:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml -o runs/temporal-default/Popular
      Popular
    deps:
    - path: ../../models/Popular.toml
      hash: md5
      md5: c25817c7ea3901786434261d27af0aad
      size: 35
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    outs:
    - path: runs/temporal-default/Popular
      hash: md5
      md5: e3a6b0217f5920bc0f5dfd60440e8b76.dir
      size: 233812
      nfiles: 3
  run-temporal-valid-default-Bias:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/Bias Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 97f305e8c04fb52cff715d59711b5eed
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    outs:
    - path: runs/temporal-valid-default/Bias
      hash: md5
      md5: 9a520e12cd71d35e3e6532ba74ea7849.dir
      size: 6102756
      nfiles: 19
  sweep-temporal-IKNN-Implicit:
    cmd: lenskit-codex sweep run --ds-name=ML20M --split=splits/temporal.toml --test-part=valid
      IKNN-Implicit sweeps/temporal/IKNN-Implicit
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 2bfec2d4beb12854e5e7d632f0fd6396
      size: 152
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/temporal/IKNN-Implicit
      hash: md5
      md5: 8a7217b2f84ea8c62f47c92480ec7b65.dir
      size: 200991628
      nfiles: 100
  export-temporal-IKNN-Implicit:
    cmd: lenskit-codex sweep export -o sweeps/temporal/IKNN-Implicit.json sweeps/temporal/IKNN-Implicit
      RBP
    deps:
    - path: sweeps/temporal/IKNN-Implicit
      hash: md5
      md5: 110e298fa430ed010e2fa3277a33d1f7.dir
      size: 200991628
      nfiles: 100
    outs:
    - path: sweeps/temporal/IKNN-Implicit.json
      hash: md5
      md5: 7ebc017ed978404bc957c24e4dd2e393
      size: 244
  run-temporal-default-BiasedMF-ALS:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml -o runs/temporal-default/BiasedMF-ALS
      BiasedMF-ALS
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: d6a4dc846449f893683a847940f9c176
      size: 166
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    outs:
    - path: runs/temporal-default/BiasedMF-ALS
      hash: md5
      md5: f0c9a7ba141440a36a2f69ca1c1a4b59.dir
      size: 461190
      nfiles: 3
  run-temporal-default-IKNN-Implicit:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml -o runs/temporal-default/IKNN-Implicit
      IKNN-Implicit
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 2bfec2d4beb12854e5e7d632f0fd6396
      size: 152
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    outs:
    - path: runs/temporal-default/IKNN-Implicit
      hash: md5
      md5: 1aa0149db87c2c3719b9b9c826050202.dir
      size: 247743
      nfiles: 3
  run-temporal-valid-default-ImplicitMF-ALS:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/ImplicitMF-ALS ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: e3b0120ab5820325128a9eb87d851e7f
      size: 151
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    outs:
    - path: runs/temporal-valid-default/ImplicitMF-ALS
      hash: md5
      md5: 2891d3554e0f38271fbb2799b3a4c2a6.dir
      size: 3553179
      nfiles: 11
  run-temporal-default-IKNN-Explicit:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml -o runs/temporal-default/IKNN-Explicit
      IKNN-Explicit
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: cb85c79c654c8e897015241c0f670c0d
      size: 169
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    outs:
    - path: runs/temporal-default/IKNN-Explicit
      hash: md5
      md5: aed42b314e96f7b05eb59fdab6bc02fa.dir
      size: 456027
      nfiles: 3
  run-temporal-valid-default-Popular:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/Popular Popular
    deps:
    - path: ../../models/Popular.toml
      hash: md5
      md5: c25817c7ea3901786434261d27af0aad
      size: 35
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    outs:
    - path: runs/temporal-valid-default/Popular
      hash: md5
      md5: 5a7fc624f4051a6af4c16ce8b0a91b23.dir
      size: 793669
      nfiles: 11
  collect-metrics:
    cmd: lenskit-codex collect metrics run-metrics.duckdb --view-script=../ml-run-metrics.sql
      runs
    outs:
    - path: run-metrics.duckdb
      hash: md5
      md5: c2a8970f70fa35e84daa208593b39b5a
      size: 274432
  run-temporal-valid-default-BiasedMF-ALS:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/BiasedMF-ALS BiasedMF-ALS
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: d6a4dc846449f893683a847940f9c176
      size: 166
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    outs:
    - path: runs/temporal-valid-default/BiasedMF-ALS
      hash: md5
      md5: 111800da0b02e975b724a385378ab7c0.dir
      size: 6579618
      nfiles: 19
  run-temporal-sweep-best-IKNN-Explicit:
    cmd: lenskit-codex generate --param-file=sweeps/temporal/IKNN-Explicit.json --test-part=-0
      --split=splits/temporal.toml -o runs/temporal-sweep-best/IKNN-Explicit IKNN-Explicit
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: cb85c79c654c8e897015241c0f670c0d
      size: 169
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    - path: sweeps/temporal/IKNN-Explicit.json
      hash: md5
      md5: 26827eef832a76181867f64da779bebc
      size: 299
    outs:
    - path: runs/temporal-sweep-best/IKNN-Explicit
      hash: md5
      md5: 056bd4c5980482a3bd2c7adae42dc694.dir
      size: 457564
      nfiles: 3
  run-temporal-sweep-best-IKNN-Implicit:
    cmd: lenskit-codex generate --param-file=sweeps/temporal/IKNN-Implicit.json --test-part=-0
      --split=splits/temporal.toml -o runs/temporal-sweep-best/IKNN-Implicit IKNN-Implicit
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 2bfec2d4beb12854e5e7d632f0fd6396
      size: 152
    - path: ratings.duckdb
      hash: md5
      md5: 635c81f0f1854b8fe09b9acecbdd7f51
      size: 239349760
    - path: splits/temporal.toml
      hash: md5
      md5: 1870a495811ff72cee0cf77c5c093ea9
      size: 128
    - path: sweeps/temporal/IKNN-Implicit.json
      hash: md5
      md5: 7ebc017ed978404bc957c24e4dd2e393
      size: 244
    outs:
    - path: runs/temporal-sweep-best/IKNN-Implicit
      hash: md5
      md5: 2da8a783df5166b197d7b57eebd33e10.dir
      size: 245261
      nfiles: 3
