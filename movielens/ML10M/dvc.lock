schema: '2.0'
stages:
  import-data:
    cmd: python ../import-ml.py ml-10m.zip
    deps:
    - path: ../import-ml.py
      hash: md5
      md5: 4af94250c13bdd7beff8235e442549c6
      size: 3732
    - path: ml-10m.zip
      hash: md5
      md5: ce571fd55effeba0271552578f2648bd
      size: 65566137
    outs:
    - path: ratings.duckdb
      hash: md5
      md5: bb2d6543a308997e7c27c971dc13aafe
      size: 95432704
  import-ml-10m:
    cmd: python ../import-ml.py ml-10m.zip
    deps:
    - path: ../import-ml.py
      hash: md5
      md5: af82da24d16bfef7681fe0b7910d5069
      size: 3678
    - path: ../ml-stats.sql
      hash: md5
      md5: b016dc983a2156e0712a846097a968e7
      size: 1307
    - path: ml-10m.zip
      hash: md5
      md5: ce571fd55effeba0271552578f2648bd
      size: 65566137
    outs:
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
  ml-10m-stats:
    cmd: python ../../scripts/duckdb-sql.py -d stats.duckdb ../ml-stats.sql
    deps:
    - path: ../ml-stats.sql
      hash: md5
      md5: bf09f212fabc98275ae949932889654c
      size: 1374
    - path: ratings.parquet
      hash: md5
      md5: 0854162a108211f4af074b65a8e8ddaa
      size: 78007629
    outs:
    - path: stats.duckdb
      hash: md5
      md5: 59d6961bed0bbe6c0822c4999a29cb09
      size: 2895872
  split-random:
    cmd: lenskit-codex split random.toml
    deps:
    - path: ../ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: random.toml
      hash: md5
      md5: 9d1d0dfd07c3cea4845016496b4294a5
      size: 165
    params:
      ../../../config.toml:
        random.seed: 20240717
    outs:
    - path: random.duckdb
      hash: md5
      md5: 0e40e1ae19f9964ec644f205c9914710
      size: 1847296
  sweep-random-Bias:
    cmd: lenskit-codex sweep run --ds-name=ML10M --split=splits/random.toml --test-part=0
      Bias sweeps/random/Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 97f305e8c04fb52cff715d59711b5eed
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: 0e40e1ae19f9964ec644f205c9914710
      size: 1847296
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/Bias
      hash: md5
      md5: 98e5df5a01d87b57eced48d78779cac8.dir
      size: 468827058
      nfiles: 260
  sweep-random-BiasedMF-ALS:
    cmd: lenskit-codex sweep run --ds-name=ML10M --split=splits/random.toml --test-part=0
      BiasedMF-ALS sweeps/random/BiasedMF-ALS
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: d6a4dc846449f893683a847940f9c176
      size: 166
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: 0e40e1ae19f9964ec644f205c9914710
      size: 1847296
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/BiasedMF-ALS
      hash: md5
      md5: 70b7471e14a8cca184a3a9ea22a85aab.dir
      size: 1109297811
      nfiles: 484
  sweep-random-ImplicitMF-ALS:
    cmd: lenskit-codex sweep run --ds-name=ML10M --split=splits/random.toml --test-part=0
      ImplicitMF-ALS sweeps/random/ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: e3b0120ab5820325128a9eb87d851e7f
      size: 151
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: 0e40e1ae19f9964ec644f205c9914710
      size: 1847296
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/ImplicitMF-ALS
      hash: md5
      md5: d94d358b12b897282c5ae9d96cac166a.dir
      size: 1239395240
      nfiles: 244
  sweep-random-IKNN-Explicit:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      IKNN-Explicit sweeps/random/IKNN-Explicit.duckdb
    deps:
    - path: ../../codex/models/IKNN_Explicit.py
      hash: md5
      md5: d7b6a1734bea39997f94df4fa0c4900e
      size: 378
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/IKNN-Explicit.duckdb
      hash: md5
      md5: a85945ca3642dd16a135310db036e5b0
      size: 564146176
  sweep-random-IKNN-Implicit:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      IKNN-Implicit sweeps/random/IKNN-Implicit.duckdb
    deps:
    - path: ../../codex/models/IKNN_Implicit.py
      hash: md5
      md5: 3ca2f37d6c1983760fcd2ff03a0a57cb
      size: 363
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/IKNN-Implicit.duckdb
      hash: md5
      md5: 907adc92b96bac73e5ebc8e03a98711b
      size: 591147008
  import:
    cmd: lenskit-codex movielens import --stat-sql=../ml-stats.sql ml-10m.zip
    deps:
    - path: ../ml-stats.sql
      hash: md5
      md5: b016dc983a2156e0712a846097a968e7
      size: 1307
    - path: ml-10m.zip
      hash: md5
      md5: ce571fd55effeba0271552578f2648bd
      size: 65566137
    outs:
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
  export-random-Bias:
    cmd: lenskit-codex sweep export -o sweeps/random/Bias.json sweeps/random/Bias
      RMSE
    deps:
    - path: sweeps/random/Bias
      hash: md5
      md5: 98e5df5a01d87b57eced48d78779cac8.dir
      size: 468827058
      nfiles: 260
    outs:
    - path: sweeps/random/Bias.json
      hash: md5
      md5: 40d17d8232ba49b37f0159fd2088f3f6
      size: 283
  export-random-BiasedMF-ALS:
    cmd: lenskit-codex sweep export -o sweeps/random/BiasedMF-ALS.json sweeps/random/BiasedMF-ALS
      RMSE
    deps:
    - path: sweeps/random/BiasedMF-ALS
      hash: md5
      md5: 70b7471e14a8cca184a3a9ea22a85aab.dir
      size: 1109297811
      nfiles: 484
    outs:
    - path: sweeps/random/BiasedMF-ALS.json
      hash: md5
      md5: 356dd1a00a7fcab4a64a22922e189d98
      size: 276
  export-random-ImplicitMF-ALS:
    cmd: lenskit-codex sweep export -o sweeps/random/ImplicitMF-ALS.json sweeps/random/ImplicitMF-ALS
      RBP
    deps:
    - path: sweeps/random/ImplicitMF-ALS
      hash: md5
      md5: d94d358b12b897282c5ae9d96cac166a.dir
      size: 1239395240
      nfiles: 244
    outs:
    - path: sweeps/random/ImplicitMF-ALS.json
      hash: md5
      md5: 67d41b3fb7d38627363b7ac5df2ca204
      size: 221
  export-random-IKNN-Explicit:
    cmd: python ../../action.py sweep export sweeps/random/IKNN-Explicit.duckdb rmse
    deps:
    - path: sweeps/random/IKNN-Explicit.duckdb
      hash: md5
      md5: 9d868c06e9b84ba493db59417e55243b
      size: 120598528
    outs:
    - path: sweeps/random/IKNN-Explicit.csv
      hash: md5
      md5: c7c37d67abdac8be064a378d55737d48
      size: 1597
    - path: sweeps/random/IKNN-Explicit.json
      hash: md5
      md5: 084c053afe68f7ba68e69ce5ca125762
      size: 308
  export-random-IKNN-Implicit:
    cmd: python ../../action.py sweep export sweeps/random/IKNN-Implicit.duckdb ndcg
    deps:
    - path: sweeps/random/IKNN-Implicit.duckdb
      hash: md5
      md5: a4c27eb14ff594c40c5bfe151af2f71b
      size: 112996352
    outs:
    - path: sweeps/random/IKNN-Implicit.csv
      hash: md5
      md5: 7c2e8f31f95278dfbf788e6763831c21
      size: 1089
    - path: sweeps/random/IKNN-Implicit.json
      hash: md5
      md5: a35d30ac82503b02cfd88f408acaafb9
      size: 249
  run-random-default-Bias:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/Bias.duckdb Bias
    deps:
    - path: ../../codex/models/Bias.py
      hash: md5
      md5: e35eac761bf892674a6fb8570132e7f1
      size: 375
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    outs:
    - path: runs/random-default/Bias.duckdb
      hash: md5
      md5: 74d4d1325fe0df8e0aef1504e907e296
      size: 45363200
  run-random-sweep-best-Bias:
    cmd: python ../../action.py generate --param-file=sweeps/random/Bias.json --test-part=-0
      --assignments=splits/random.duckdb --ratings=ratings.duckdb -o runs/random-sweep-best/Bias.duckdb
      Bias
    deps:
    - path: ../../codex/models/Bias.py
      hash: md5
      md5: e35eac761bf892674a6fb8570132e7f1
      size: 375
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    - path: sweeps/random/Bias.json
      hash: md5
      md5: ef36d8de1a3a8d3a972744ac25a4fa89
      size: 318
    outs:
    - path: runs/random-sweep-best/Bias.duckdb
      hash: md5
      md5: 61189ca9f00e2c3bc64aa7816ef3d775
      size: 45363200
  run-random-default-Popular:
    cmd: lenskit-codex generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/Popular Popular
    deps:
    - path: ../../codex/models/Popular.py
      hash: md5
      md5: 552235616ae50fa42c08566ddc050c59
      size: 215
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: b294e4e34ad4c39d8d39397a42dcd3c6
      size: 1847296
    outs:
    - path: runs/random-default/Popular
      hash: md5
      md5: 646749c14a67295b722a05877e029ce3.dir
      size: 5076886
      nfiles: 35
  run-random-default-BiasedMF-ALS:
    cmd: lenskit-codex generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/BiasedMF-ALS BiasedMF-ALS
    deps:
    - path: ../../codex/models/BiasedMF_ALS.py
      hash: md5
      md5: b1e2858de432b3ae84206b65d3f92599
      size: 338
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: b294e4e34ad4c39d8d39397a42dcd3c6
      size: 1847296
    outs:
    - path: runs/random-default/BiasedMF-ALS
      hash: md5
      md5: 73e6f6e031df4218ec903cdb1ad56124.dir
      size: 41576733
      nfiles: 67
  run-random-sweep-best-BiasedMF-ALS:
    cmd: python ../../action.py generate --param-file=sweeps/random/BiasedMF-ALS.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-sweep-best/BiasedMF-ALS.duckdb BiasedMF-ALS
    deps:
    - path: ../../codex/models/BiasedMF_ALS.py
      hash: md5
      md5: 70b01ec78dc3f1c3d09190c032bc05a6
      size: 349
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    - path: sweeps/random/BiasedMF-ALS.json
      hash: md5
      md5: 3c6a493b14b9980a50dee222c07492e0
      size: 306
    outs:
    - path: runs/random-sweep-best/BiasedMF-ALS.duckdb
      hash: md5
      md5: 67699827a9bd4614ab771452bac2ed9a
      size: 45363200
  run-random-default-ImplicitMF-ALS:
    cmd: lenskit-codex generate --default --split=splits/random.toml --test-part=-0
      -o runs/random-default/ImplicitMF-ALS ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: e3b0120ab5820325128a9eb87d851e7f
      size: 151
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: 0e40e1ae19f9964ec644f205c9914710
      size: 1847296
    outs:
    - path: runs/random-default/ImplicitMF-ALS
      hash: md5
      md5: fd3634d215906cd07289ec91cf96a87a.dir
      size: 41124284
      nfiles: 35
  run-random-sweep-best-ImplicitMF-ALS:
    cmd: lenskit-codex generate --param-file=sweeps/random/ImplicitMF-ALS.json --split=splits/random.toml
      --test-part=-0 -o runs/random-sweep-best/ImplicitMF-ALS ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: e3b0120ab5820325128a9eb87d851e7f
      size: 151
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: 0e40e1ae19f9964ec644f205c9914710
      size: 1847296
    - path: sweeps/random/ImplicitMF-ALS.json
      hash: md5
      md5: 67d41b3fb7d38627363b7ac5df2ca204
      size: 221
    outs:
    - path: runs/random-sweep-best/ImplicitMF-ALS
      hash: md5
      md5: 7430f88ac3004f01965ebfd043fb83d2.dir
      size: 42538795
      nfiles: 35
  run-random-default-IKNN-Explicit:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/IKNN-Explicit.duckdb IKNN-Explicit
    deps:
    - path: ../../codex/models/IKNN_Explicit.py
      hash: md5
      md5: d7b6a1734bea39997f94df4fa0c4900e
      size: 378
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    outs:
    - path: runs/random-default/IKNN-Explicit.duckdb
      hash: md5
      md5: 76df675caa680a0031c2b95c404976e5
      size: 45101056
  run-random-sweep-best-IKNN-Explicit:
    cmd: python ../../action.py generate --param-file=sweeps/random/IKNN-Explicit.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-sweep-best/IKNN-Explicit.duckdb IKNN-Explicit
    deps:
    - path: ../../codex/models/IKNN_Explicit.py
      hash: md5
      md5: d7b6a1734bea39997f94df4fa0c4900e
      size: 378
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    - path: sweeps/random/IKNN-Explicit.json
      hash: md5
      md5: 084c053afe68f7ba68e69ce5ca125762
      size: 308
    outs:
    - path: runs/random-sweep-best/IKNN-Explicit.duckdb
      hash: md5
      md5: 24460f4688b9274b0c73efcfc6029bdd
      size: 45101056
  run-random-default-IKNN-Implicit:
    cmd: lenskit-codex generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/IKNN-Implicit IKNN-Implicit
    deps:
    - path: ../../codex/models/IKNN_Implicit.py
      hash: md5
      md5: 895e8e16fd0e6e00fdbf49d0476c9d8e
      size: 362
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: b294e4e34ad4c39d8d39397a42dcd3c6
      size: 1847296
    outs:
    - path: runs/random-default/IKNN-Implicit
      hash: md5
      md5: 9b563d66d3cb149d7c4a8cff5ca54d41.dir
      size: 39646391
      nfiles: 35
  run-random-sweep-best-IKNN-Implicit:
    cmd: python ../../action.py generate --param-file=sweeps/random/IKNN-Implicit.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-sweep-best/IKNN-Implicit.duckdb IKNN-Implicit
    deps:
    - path: ../../codex/models/IKNN_Implicit.py
      hash: md5
      md5: 3ca2f37d6c1983760fcd2ff03a0a57cb
      size: 363
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    - path: sweeps/random/IKNN-Implicit.json
      hash: md5
      md5: a35d30ac82503b02cfd88f408acaafb9
      size: 249
    outs:
    - path: runs/random-sweep-best/IKNN-Implicit.duckdb
      hash: md5
      md5: cc76e91001eb87e380db4b84edf52111
      size: 45101056
  run-random-default-UKNN-Explicit:
    cmd: lenskit-codex generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/UKNN-Explicit UKNN-Explicit
    deps:
    - path: ../../codex/models/UKNN_Explicit.py
      hash: md5
      md5: 79cf60348aca97ccef600d366367cd02
      size: 377
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: b294e4e34ad4c39d8d39397a42dcd3c6
      size: 1847296
    outs:
    - path: runs/random-default/UKNN-Explicit
      hash: md5
      md5: 0326bcca59d66f9134b7e673bae13b68.dir
      size: 40781547
      nfiles: 67
  sweep-random-UKNN-Explicit:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      UKNN-Explicit sweeps/random/UKNN-Explicit.duckdb
    deps:
    - path: ../../codex/models/UKNN_Explicit.py
      hash: md5
      md5: ef4186443ab61ef9d7ddfc2d71b86fb4
      size: 378
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/UKNN-Explicit.duckdb
      hash: md5
      md5: 3e6b4cb207981f53aa742f1c819dfa6f
      size: 566243328
  export-random-UKNN-Explicit:
    cmd: python ../../action.py sweep export sweeps/random/UKNN-Explicit.duckdb rmse
    deps:
    - path: sweeps/random/UKNN-Explicit.duckdb
      hash: md5
      md5: bfb0dbcf89bc7b31194cfae672e0ac16
      size: 10508840960
    outs:
    - path: sweeps/random/UKNN-Explicit.csv
      hash: md5
      md5: 0fb3e55be0fd4159c2e79c0a30af3a0e
      size: 1717
    - path: sweeps/random/UKNN-Explicit.json
      hash: md5
      md5: 37d6da12789069b8fa55173c89b83188
      size: 321
  run-random-default-UKNN-Implicit:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/UKNN-Implicit.duckdb UKNN-Implicit
    deps:
    - path: ../../codex/models/UKNN_Implicit.py
      hash: md5
      md5: fd52b2729524c3279709cc034aea9df5
      size: 363
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    outs:
    - path: runs/random-default/UKNN-Implicit.duckdb
      hash: md5
      md5: a495bd56da2143f0ec87a5336e8f31e5
      size: 45101056
  sweep-random-UKNN-Implicit:
    cmd: lenskit-codex sweep run --ds-name=ML10M --split=splits/random.toml --test-part=0
      UKNN-Implicit sweeps/random/UKNN-Implicit
    deps:
    - path: ../../models/UKNN-Implicit.toml
      hash: md5
      md5: a58a3e7ad35116cb737f895bab17c799
      size: 152
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: 0e40e1ae19f9964ec644f205c9914710
      size: 1847296
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/UKNN-Implicit
      hash: md5
      md5: 75078ad1ad0e6d976d3c2fdf0f1c1145.dir
      size: 487669509
      nfiles: 100
  export-random-UKNN-Implicit:
    cmd: lenskit-codex sweep export -o sweeps/random/UKNN-Implicit.json sweeps/random/UKNN-Implicit
      RBP
    deps:
    - path: sweeps/random/UKNN-Implicit
      hash: md5
      md5: 75078ad1ad0e6d976d3c2fdf0f1c1145.dir
      size: 487669509
      nfiles: 100
    outs:
    - path: sweeps/random/UKNN-Implicit.json
      hash: md5
      md5: ff5f6a46daf54ac1531c7425ab8633dc
      size: 244
  run-random-sweep-best-UKNN-Implicit:
    cmd: lenskit-codex generate --param-file=sweeps/random/UKNN-Implicit.json --split=splits/random.toml
      --test-part=-0 -o runs/random-sweep-best/UKNN-Implicit UKNN-Implicit
    deps:
    - path: ../../models/UKNN-Implicit.toml
      hash: md5
      md5: a58a3e7ad35116cb737f895bab17c799
      size: 152
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: 0e40e1ae19f9964ec644f205c9914710
      size: 1847296
    - path: sweeps/random/UKNN-Implicit.json
      hash: md5
      md5: ff5f6a46daf54ac1531c7425ab8633dc
      size: 244
    outs:
    - path: runs/random-sweep-best/UKNN-Implicit
      hash: md5
      md5: fc256717e30b1088472e9b089529132a.dir
      size: 41634362
      nfiles: 35
  run-random-default-Implicit-BPR:
    cmd: python ../../action.py generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/Implicit-BPR.duckdb Implicit-BPR
    deps:
    - path: ../../codex/models/Implicit_BPR.py
      hash: md5
      md5: ead16dddccd03e2611e9e0bef3e4686c
      size: 360
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    outs:
    - path: runs/random-default/Implicit-BPR.duckdb
      hash: md5
      md5: 26e886e4b65b6e1c2d09c0cad12cb7a3
      size: 45101056
  sweep-random-Implicit-BPR:
    cmd: python ../../action.py sweep run -p 0 --ratings=ratings.duckdb --assignments=splits/random.duckdb
      Implicit-BPR sweeps/random/Implicit-BPR.duckdb
    deps:
    - path: ../../codex/models/Implicit_BPR.py
      hash: md5
      md5: ead16dddccd03e2611e9e0bef3e4686c
      size: 360
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/Implicit-BPR.duckdb
      hash: md5
      md5: 26835389488b3c2936d9a87a8da800f7
      size: 1674063872
  export-random-Implicit-BPR:
    cmd: python ../../action.py sweep export sweeps/random/Implicit-BPR.duckdb ndcg
    deps:
    - path: sweeps/random/Implicit-BPR.duckdb
      hash: md5
      md5: 2590840c981893b60b46f8ff31e3fbc6
      size: 29918507008
    outs:
    - path: sweeps/random/Implicit-BPR.csv
      hash: md5
      md5: b1cd94234876f017da86ba0cf1ac995c
      size: 2792
    - path: sweeps/random/Implicit-BPR.json
      hash: md5
      md5: 2fe1de870997add50ccba8b6cfa02f0c
      size: 262
  run-random-sweep-best-Implicit-BPR:
    cmd: python ../../action.py generate --param-file=sweeps/random/Implicit-BPR.json
      --test-part=-0 --assignments=splits/random.duckdb --ratings=ratings.duckdb -o
      runs/random-sweep-best/Implicit-BPR.duckdb Implicit-BPR
    deps:
    - path: ../../codex/models/Implicit_BPR.py
      hash: md5
      md5: ead16dddccd03e2611e9e0bef3e4686c
      size: 360
    - path: ratings.duckdb
      hash: md5
      md5: 1a8b11ed426f9ff718074d7ce44e3dcd
      size: 120598528
    - path: splits/random.duckdb
      hash: md5
      md5: 2fe28eddcd080083e5bc510e507ed33d
      size: 1323008
    - path: sweeps/random/Implicit-BPR.json
      hash: md5
      md5: 2fe1de870997add50ccba8b6cfa02f0c
      size: 262
    outs:
    - path: runs/random-sweep-best/Implicit-BPR.duckdb
      hash: md5
      md5: 8a3ab6ece5980445a88cd9df006e14d5
      size: 45101056
  run-random-default-HPF:
    cmd: lenskit-codex generate --default --test-part=-0 --assignments=splits/random.duckdb
      --ratings=ratings.duckdb -o runs/random-default/HPF HPF
    deps:
    - path: ../../codex/models/HPF.py
      hash: md5
      md5: 55203953da5adcab9435c016b242bf1d
      size: 266
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: b294e4e34ad4c39d8d39397a42dcd3c6
      size: 1847296
    outs:
    - path: runs/random-default/HPF
      hash: md5
      md5: 91f483253bf781206213a812cf82891b.dir
      size: 41317884
      nfiles: 35
  run-temporal-default-Bias:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml -o runs/temporal-default/Bias
      Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 97f305e8c04fb52cff715d59711b5eed
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    outs:
    - path: runs/temporal-default/Bias
      hash: md5
      md5: 288d575b5428e53003e58135dfaeda77.dir
      size: 269513
      nfiles: 3
  run-temporal-default-Popular:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml -o runs/temporal-default/Popular
      Popular
    deps:
    - path: ../../models/Popular.toml
      hash: md5
      md5: c25817c7ea3901786434261d27af0aad
      size: 35
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    outs:
    - path: runs/temporal-default/Popular
      hash: md5
      md5: 107117ff3993e26a1fd0aac89ffa2d45.dir
      size: 141342
      nfiles: 3
  sweep-temporal-IKNN-Implicit:
    cmd: lenskit-codex sweep run --ds-name=ML10M --split=splits/temporal.toml --test-part=valid
      IKNN-Implicit sweeps/temporal/IKNN-Implicit
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 2bfec2d4beb12854e5e7d632f0fd6396
      size: 152
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/temporal/IKNN-Implicit
      hash: md5
      md5: e13fbfac6ddb285f69afeaad93e3f045.dir
      size: 126755565
      nfiles: 100
  export-temporal-IKNN-Implicit:
    cmd: lenskit-codex sweep export -o sweeps/temporal/IKNN-Implicit.json sweeps/temporal/IKNN-Implicit
      RBP
    deps:
    - path: sweeps/temporal/IKNN-Implicit
      hash: md5
      md5: e13fbfac6ddb285f69afeaad93e3f045.dir
      size: 126755565
      nfiles: 100
    outs:
    - path: sweeps/temporal/IKNN-Implicit.json
      hash: md5
      md5: 753265914bf671532d647b9555c4d2ed
      size: 238
  sweep-temporal-UKNN-Implicit:
    cmd: lenskit-codex sweep run --ds-name=ML10M --split=splits/temporal.toml --test-part=valid
      UKNN-Implicit sweeps/temporal/UKNN-Implicit
    deps:
    - path: ../../models/UKNN-Implicit.toml
      hash: md5
      md5: a58a3e7ad35116cb737f895bab17c799
      size: 152
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: 1842eba13a75bc5e29dfd7b471ac18b6
      size: 116
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/temporal/UKNN-Implicit
      hash: md5
      md5: f37a49cfc492b7e52d622a5ef66da335.dir
      size: 128186677
      nfiles: 100
  export-temporal-UKNN-Implicit:
    cmd: lenskit-codex sweep export -o sweeps/temporal/UKNN-Implicit.json sweeps/temporal/UKNN-Implicit
      RBP
    deps:
    - path: sweeps/temporal/UKNN-Implicit
      hash: md5
      md5: f37a49cfc492b7e52d622a5ef66da335.dir
      size: 128186677
      nfiles: 100
    outs:
    - path: sweeps/temporal/UKNN-Implicit.json
      hash: md5
      md5: aba7e54f5f4e440b1c04cfafcf6b8803
      size: 244
  sweep-temporal-Bias:
    cmd: lenskit-codex sweep run --ds-name=ML10M --split=splits/temporal.toml --test-part=valid
      Bias sweeps/temporal/Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 97f305e8c04fb52cff715d59711b5eed
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/temporal/Bias
      hash: md5
      md5: 1e66956ec736abfa5d5edccd9d46a87b.dir
      size: 168914248
      nfiles: 260
  export-temporal-Bias:
    cmd: lenskit-codex sweep export -o sweeps/temporal/Bias.json sweeps/temporal/Bias
      RMSE
    deps:
    - path: sweeps/temporal/Bias
      hash: md5
      md5: 1e66956ec736abfa5d5edccd9d46a87b.dir
      size: 168914248
      nfiles: 260
    outs:
    - path: sweeps/temporal/Bias.json
      hash: md5
      md5: 172f753a6998217f898a2a39115c34a3
      size: 279
  run-temporal-sweep-best-Bias:
    cmd: lenskit-codex generate --param-file=sweeps/temporal/Bias.json --test-part=-0
      --split=splits/temporal.toml -o runs/temporal-sweep-best/Bias Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 97f305e8c04fb52cff715d59711b5eed
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    - path: sweeps/temporal/Bias.json
      hash: md5
      md5: 172f753a6998217f898a2a39115c34a3
      size: 279
    outs:
    - path: runs/temporal-sweep-best/Bias
      hash: md5
      md5: 98b5860ce638359f63cf3907b028ed6f.dir
      size: 266903
      nfiles: 3
  sweep-random-HPF:
    cmd: lenskit-codex sweep run --ds-name=ML10M --split=splits/random.toml --test-part=0
      HPF sweeps/random/HPF
    deps:
    - path: ../../models/HPF.toml
      hash: md5
      md5: 0b2c295f5f53e6c0e41cddc0f31b85b2
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/random.duckdb
      hash: md5
      md5: 0e40e1ae19f9964ec644f205c9914710
      size: 1847296
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/random/HPF
      hash: md5
      md5: 128936c83b8fcf06050079e14aed0b1b.dir
      size: 412015844
      nfiles: 84
  run-temporal-default-BiasedMF-ALS:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml -o runs/temporal-default/BiasedMF-ALS
      BiasedMF-ALS
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: d6a4dc846449f893683a847940f9c176
      size: 166
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    outs:
    - path: runs/temporal-default/BiasedMF-ALS
      hash: md5
      md5: 17e6b0e9709c350e89d6af58b2b4cd9d.dir
      size: 270411
      nfiles: 3
  export-random-HPF:
    cmd: lenskit-codex sweep export -o sweeps/random/HPF.json sweeps/random/HPF RBP
    deps:
    - path: sweeps/random/HPF
      hash: md5
      md5: 128936c83b8fcf06050079e14aed0b1b.dir
      size: 412015844
      nfiles: 84
    outs:
    - path: sweeps/random/HPF.json
      hash: md5
      md5: 3049e84655057159338d9e6fc66dc2ff
      size: 209
  sweep-temporal-BiasedMF-ALS:
    cmd: lenskit-codex sweep run --ds-name=ML10M --split=splits/temporal.toml --test-part=valid
      BiasedMF-ALS sweeps/temporal/BiasedMF-ALS
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: d6a4dc846449f893683a847940f9c176
      size: 166
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/temporal/BiasedMF-ALS
      hash: md5
      md5: 9f9695ec192cac771156f302743c8d98.dir
      size: 363730734
      nfiles: 484
  export-temporal-BiasedMF-ALS:
    cmd: lenskit-codex sweep export -o sweeps/temporal/BiasedMF-ALS.json sweeps/temporal/BiasedMF-ALS
      RMSE
    deps:
    - path: sweeps/temporal/BiasedMF-ALS
      hash: md5
      md5: 9f9695ec192cac771156f302743c8d98.dir
      size: 363730734
      nfiles: 484
    outs:
    - path: sweeps/temporal/BiasedMF-ALS.json
      hash: md5
      md5: c416f6ea9db07d9312d8501addf24553
      size: 272
  run-temporal-sweep-best-BiasedMF-ALS:
    cmd: lenskit-codex generate --param-file=sweeps/temporal/BiasedMF-ALS.json --test-part=-0
      --split=splits/temporal.toml -o runs/temporal-sweep-best/BiasedMF-ALS BiasedMF-ALS
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: d6a4dc846449f893683a847940f9c176
      size: 166
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    - path: sweeps/temporal/BiasedMF-ALS.json
      hash: md5
      md5: c416f6ea9db07d9312d8501addf24553
      size: 272
    outs:
    - path: runs/temporal-sweep-best/BiasedMF-ALS
      hash: md5
      md5: a390f50c416592c5cd118a60421dd76b.dir
      size: 270598
      nfiles: 3
  sweep-temporal-HPF:
    cmd: lenskit-codex sweep run --ds-name=ML10M --split=splits/temporal.toml --test-part=valid
      HPF sweeps/temporal/HPF
    deps:
    - path: ../../models/HPF.toml
      hash: md5
      md5: 0b2c295f5f53e6c0e41cddc0f31b85b2
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: 1842eba13a75bc5e29dfd7b471ac18b6
      size: 116
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/temporal/HPF
      hash: md5
      md5: a9ce72a332bde36f7c6451d49850a5db.dir
      size: 112007777
      nfiles: 84
  export-temporal-HPF:
    cmd: lenskit-codex sweep export -o sweeps/temporal/HPF.json sweeps/temporal/HPF
      RBP
    deps:
    - path: sweeps/temporal/HPF
      hash: md5
      md5: a9ce72a332bde36f7c6451d49850a5db.dir
      size: 112007777
      nfiles: 84
    outs:
    - path: sweeps/temporal/HPF.json
      hash: md5
      md5: 30abeb24bf151011f976997b2db1571b
      size: 205
  run-temporal-sweep-best-HPF:
    cmd: lenskit-codex generate --param-file=sweeps/temporal/HPF.json --split=splits/temporal.toml
      --test-part=-0 -o runs/temporal-sweep-best/HPF HPF
    deps:
    - path: ../../models/HPF.toml
      hash: md5
      md5: 0b2c295f5f53e6c0e41cddc0f31b85b2
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: 1842eba13a75bc5e29dfd7b471ac18b6
      size: 116
    - path: sweeps/temporal/HPF.json
      hash: md5
      md5: 30abeb24bf151011f976997b2db1571b
      size: 205
    outs:
    - path: runs/temporal-sweep-best/HPF
      hash: md5
      md5: 01e108b96866d53ba5513e0f68e93874.dir
      size: 4531445
      nfiles: 19
  run-temporal-valid-default-UKNN-Implicit:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/UKNN-Implicit UKNN-Implicit
    deps:
    - path: ../../models/UKNN-Implicit.toml
      hash: md5
      md5: a58a3e7ad35116cb737f895bab17c799
      size: 152
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: 1842eba13a75bc5e29dfd7b471ac18b6
      size: 116
    outs:
    - path: runs/temporal-valid-default/UKNN-Implicit
      hash: md5
      md5: d0a194fffc78c0a47399b16ef5cb034c.dir
      size: 2167903
      nfiles: 11
  sweep-temporal-ImplicitMF-ALS:
    cmd: lenskit-codex sweep run --ds-name=ML10M --split=splits/temporal.toml --test-part=valid
      ImplicitMF-ALS sweeps/temporal/ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: e3b0120ab5820325128a9eb87d851e7f
      size: 151
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/temporal/ImplicitMF-ALS
      hash: md5
      md5: 790ce9e9be4c6e9b13615ff4ec2b06a3.dir
      size: 332432019
      nfiles: 244
  export-temporal-ImplicitMF-ALS:
    cmd: lenskit-codex sweep export -o sweeps/temporal/ImplicitMF-ALS.json sweeps/temporal/ImplicitMF-ALS
      RBP
    deps:
    - path: sweeps/temporal/ImplicitMF-ALS
      hash: md5
      md5: 790ce9e9be4c6e9b13615ff4ec2b06a3.dir
      size: 332432019
      nfiles: 244
    outs:
    - path: sweeps/temporal/ImplicitMF-ALS.json
      hash: md5
      md5: 434f4101b1118f893cea811093a76287
      size: 219
  run-temporal-sweep-best-ImplicitMF-ALS:
    cmd: lenskit-codex generate --param-file=sweeps/temporal/ImplicitMF-ALS.json --test-part=-0
      --split=splits/temporal.toml -o runs/temporal-sweep-best/ImplicitMF-ALS ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: e3b0120ab5820325128a9eb87d851e7f
      size: 151
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    - path: sweeps/temporal/ImplicitMF-ALS.json
      hash: md5
      md5: 434f4101b1118f893cea811093a76287
      size: 219
    outs:
    - path: runs/temporal-sweep-best/ImplicitMF-ALS
      hash: md5
      md5: f66f5059adad3ab2d36e5fdf8957fb91.dir
      size: 151193
      nfiles: 3
  run-temporal-default-IKNN-Implicit:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml -o runs/temporal-default/IKNN-Implicit
      IKNN-Implicit
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 2bfec2d4beb12854e5e7d632f0fd6396
      size: 152
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    outs:
    - path: runs/temporal-default/IKNN-Implicit
      hash: md5
      md5: 8c342b29573142a9df55db268571bd71.dir
      size: 152210
      nfiles: 3
  run-temporal-default-IKNN-Explicit:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml -o runs/temporal-default/IKNN-Explicit
      IKNN-Explicit
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: cb85c79c654c8e897015241c0f670c0d
      size: 169
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    outs:
    - path: runs/temporal-default/IKNN-Explicit
      hash: md5
      md5: 01b64a9a6e89da7f7149f48513aa6b62.dir
      size: 268952
      nfiles: 3
  run-temporal-valid-default-ImplicitMF-ALS:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/ImplicitMF-ALS ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: e3b0120ab5820325128a9eb87d851e7f
      size: 151
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    outs:
    - path: runs/temporal-valid-default/ImplicitMF-ALS
      hash: md5
      md5: 914a5c7ecb97c99b636b7e509a2ad74f.dir
      size: 2211690
      nfiles: 11
  sweep-temporal-IKNN-Explicit:
    cmd: lenskit-codex sweep run --ds-name=ML10M --split=splits/temporal.toml --test-part=valid
      IKNN-Explicit sweeps/temporal/IKNN-Explicit
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: cb85c79c654c8e897015241c0f670c0d
      size: 169
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    params:
      ../../config.toml:
        random.seed: 20240717
    outs:
    - path: sweeps/temporal/IKNN-Explicit
      hash: md5
      md5: e0e8bf7194a00c23febd89e3a11da7bc.dir
      size: 152082405
      nfiles: 196
  export-temporal-IKNN-Explicit:
    cmd: lenskit-codex sweep export -o sweeps/temporal/IKNN-Explicit.json sweeps/temporal/IKNN-Explicit
      RMSE
    deps:
    - path: sweeps/temporal/IKNN-Explicit
      hash: md5
      md5: e0e8bf7194a00c23febd89e3a11da7bc.dir
      size: 152082405
      nfiles: 196
    outs:
    - path: sweeps/temporal/IKNN-Explicit.json
      hash: md5
      md5: 62bc737ca5067102464b22aea2509c7a
      size: 300
  run-temporal-sweep-best-IKNN-Explicit:
    cmd: lenskit-codex generate --param-file=sweeps/temporal/IKNN-Explicit.json --test-part=-0
      --split=splits/temporal.toml -o runs/temporal-sweep-best/IKNN-Explicit IKNN-Explicit
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: cb85c79c654c8e897015241c0f670c0d
      size: 169
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    - path: sweeps/temporal/IKNN-Explicit.json
      hash: md5
      md5: 62bc737ca5067102464b22aea2509c7a
      size: 300
    outs:
    - path: runs/temporal-sweep-best/IKNN-Explicit
      hash: md5
      md5: f871c3785c43fef2e1954ba639eb2444.dir
      size: 270485
      nfiles: 3
  run-temporal-valid-default-Popular:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/Popular Popular
    deps:
    - path: ../../models/Popular.toml
      hash: md5
      md5: c25817c7ea3901786434261d27af0aad
      size: 35
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    outs:
    - path: runs/temporal-valid-default/Popular
      hash: md5
      md5: 6e659e0e5854aa1a8f4dfb08d90b32e4.dir
      size: 509152
      nfiles: 11
  collect-metrics:
    cmd: lenskit-codex collect metrics run-metrics.duckdb --view-script=../ml-run-metrics.sql
      runs
    outs:
    - path: run-metrics.duckdb
      hash: md5
      md5: c2a8970f70fa35e84daa208593b39b5a
      size: 274432
  run-temporal-valid-default-IKNN-Explicit:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/IKNN-Explicit IKNN-Explicit
    deps:
    - path: ../../models/IKNN-Explicit.toml
      hash: md5
      md5: cb85c79c654c8e897015241c0f670c0d
      size: 169
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    outs:
    - path: runs/temporal-valid-default/IKNN-Explicit
      hash: md5
      md5: 41b5f8a9f3bf0c03505a43d0c771b9d1.dir
      size: 4103054
      nfiles: 19
  run-temporal-valid-default-BiasedMF-ALS:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/BiasedMF-ALS BiasedMF-ALS
    deps:
    - path: ../../models/BiasedMF-ALS.toml
      hash: md5
      md5: d6a4dc846449f893683a847940f9c176
      size: 166
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    outs:
    - path: runs/temporal-valid-default/BiasedMF-ALS
      hash: md5
      md5: 62f674b25a505a9cb7ce6fa966f4b3b9.dir
      size: 4055243
      nfiles: 19
  run-temporal-sweep-best-IKNN-Implicit:
    cmd: lenskit-codex generate --param-file=sweeps/temporal/IKNN-Implicit.json --test-part=-0
      --split=splits/temporal.toml -o runs/temporal-sweep-best/IKNN-Implicit IKNN-Implicit
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 2bfec2d4beb12854e5e7d632f0fd6396
      size: 152
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    - path: sweeps/temporal/IKNN-Implicit.json
      hash: md5
      md5: 753265914bf671532d647b9555c4d2ed
      size: 238
    outs:
    - path: runs/temporal-sweep-best/IKNN-Implicit
      hash: md5
      md5: 1b7f28451b5e10b9291d3be6ba0e5b77.dir
      size: 151038
      nfiles: 3
  run-temporal-default-ImplicitMF-ALS:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml -o runs/temporal-default/ImplicitMF-ALS
      ImplicitMF-ALS
    deps:
    - path: ../../models/ImplicitMF-ALS.toml
      hash: md5
      md5: e3b0120ab5820325128a9eb87d851e7f
      size: 151
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    outs:
    - path: runs/temporal-default/ImplicitMF-ALS
      hash: md5
      md5: 9776bb3278a6ac5e797d58af53d0818b.dir
      size: 156099
      nfiles: 3
  run-temporal-valid-default-Bias:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/Bias Bias
    deps:
    - path: ../../models/Bias.toml
      hash: md5
      md5: 97f305e8c04fb52cff715d59711b5eed
      size: 146
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    outs:
    - path: runs/temporal-valid-default/Bias
      hash: md5
      md5: 1f9691adca62a8e421068eb917cf2a2f.dir
      size: 3792924
      nfiles: 19
  run-temporal-valid-default-IKNN-Implicit:
    cmd: lenskit-codex generate --default --split=splits/temporal.toml --test-part=valid
      -o runs/temporal-valid-default/IKNN-Implicit IKNN-Implicit
    deps:
    - path: ../../models/IKNN-Implicit.toml
      hash: md5
      md5: 2bfec2d4beb12854e5e7d632f0fd6396
      size: 152
    - path: ratings.duckdb
      hash: md5
      md5: 5b61a4ef8958fb6559b0e697ed88c453
      size: 119549952
    - path: splits/temporal.toml
      hash: md5
      md5: d83e63c855846c44a298c3f800cf7533
      size: 128
    outs:
    - path: runs/temporal-valid-default/IKNN-Implicit
      hash: md5
      md5: b630c691b90e83b288b5dbc8713455dc.dir
      size: 2096982
      nfiles: 11
